// DATA
/* data collected from eurostat (and slightly cleaned to remove territories outside of continental Europe)
https://ec.europa.eu/eurostat/web/gisco/geodata/reference-data/administrative-units-statistical-units/nuts
*/
const dataGeoJson = {
  type: 'FeatureCollection',
  features: [
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2524187, 5498877], [2508712, 5472488], [2494321, 5427090], [2523276, 5373476], [2532235, 5371005], [2561040, 5341376], [2532340, 5295211], [2506415, 5291983], [2498323, 5285442], [2500400, 5258621], [2489127, 5207704], [2403048, 5200430], [2408551, 5220021], [2421578, 5266563], [2403588, 5268815], [2386146, 5292551], [2329200, 5334234], [2317644, 5353536], [2265678, 5286645], [2233507, 5313011], [2140014, 5392617], [2168108, 5409472], [2170409, 5480784], [2130896, 5530985], [2154161, 5604073], [2117527, 5598779], [2130352, 5640231], [2162400, 5647960], [2123652, 5675286], [2115656, 5690207], [2118849, 5698490], [2102796, 5767727], [2148768, 5778995], [2192782, 5810517], [2211405, 5804473], [2241582, 5801857], [2255811, 5800624], [2300176, 5747417], [2339554, 5672773], [2391051, 5651961], [2377614, 5593482], [2450404, 5559130], [2450825, 5558643], [2504653, 5560605], [2524187, 5498877]]] },
      id: 'RS',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[670255, 6577946], [647774, 6570957], [633143, 6588092], [641882, 6622836], [645461, 6631888], [619636, 6660451], [583060, 6667699], [567972, 6697533], [529873, 6710660], [519811, 6697066], [476399, 6688078], [472403, 6687849], [410483, 6713209], [427365, 6756540], [459503, 6800224], [467321, 6809921], [486937, 6834025], [500253, 6859698], [507683, 6879607], [513147, 6904475], [517532, 6938024], [530316, 7021446], [574897, 6983166], [602375, 7011112], [614469, 7030309], [654227, 7054000], [689213, 7059375], [717921, 7061607], [765311, 7058829], [790162, 7030309], [802495, 7028085], [801811, 7003979], [789555, 6953125], [779930, 6916456], [746924, 6914450], [745603, 6888534], [779690, 6872704], [786548, 6843887], [752572, 6821593], [743800, 6787915], [713311, 6769102], [686593, 6782209], [662706, 6754661], [692898, 6686110], [676005, 6664317], [687377, 6653997], [654234, 6626974], [677596, 6605943], [670255, 6577946]]], [[[374678, 6686976], [471418, 6683129], [442792, 6661214], [429286, 6658712], [376333, 6669958], [374678, 6686976]]]] },
      id: 'NL',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[3216761, 10764044], [3245370, 10935933], [3088805, 11088334], [2902802, 10979991], [2854010, 10739375], [2784319, 10640742], [2674885, 10682836], [2568774, 10650767], [2447204, 10773467], [2414726, 10824116], [2403259, 10837876], [2372254, 10846676], [2341410, 10824116], [2287464, 10769440], [2263634, 10756576], [2217717, 10562214], [2017769, 10608309], [2011605, 10487893], [1968679, 10456649], [1922059, 10474188], [1861309, 10413621], [1799812, 10279337], [1819242, 10174360], [1716020, 10016308], [1720331, 9971978], [1628309, 9894356], [1594761, 9639764], [1528445, 9506952], [1540450, 9490036], [1570631, 9447686], [1559990, 9368415], [1463734, 9368792], [1393957, 9311995], [1358738, 9253621], [1352477, 9203549], [1341673, 9145374], [1364182, 8938064], [1369160, 8922850], [1356136, 8804141], [1413014, 8724289], [1410438, 8638688], [1368670, 8622816], [1399115, 8497163], [1384597, 8417177], [1352477, 8374895], [1317993, 8364371], [1327704, 8353237], [1316486, 8231974], [1304298, 8190993], [1293759, 8165187], [1275309, 8178233], [1269991, 8190993], [1214618, 8191176], [1187741, 8277849], [1169075, 8351280], [1172203, 8306683], [1149276, 8331271], [1162951, 8274673], [1163167, 8208374], [1136023, 8181202], [1095294, 8189942], [1034393, 8133483], [989523, 8067421], [911167, 7997405], [811352, 7967082], [716721, 8028640], [618448, 8126717], [613539, 8181748], [640789, 8238274], [631709, 8305493], [651470, 8317652], [623982, 8348654], [616219, 8282159], [617031, 8253342], [586452, 8215896], [583667, 8282159], [552014, 8483580], [570627, 8587271], [515166, 8604310], [539631, 8678713], [544661, 8791975], [573400, 8834872], [568758, 8892541], [609982, 8855414], [605180, 8901898], [637804, 8899855], [695260, 9009335], [779686, 9088838], [855204, 9098391], [877299, 9200987], [959965, 9195312], [927245, 9232362], [932863, 9265331], [989523, 9257011], [1007051, 9230026], [1080316, 9263370], [1105227, 9355229], [1194401, 9455528], [1230377, 9505554], [1233123, 9597162], [1351376, 9613718], [1338778, 9781400], [1372648, 9916490], [1425184, 10012641], [1454593, 9990008], [1470151, 10084070], [1517304, 10156709], [1579924, 10204909], [1646427, 10393534], [1755227, 10489675], [1738614, 10542372], [1619645, 10531620], [1629585, 10662215], [1761594, 10798014], [1778527, 10686634], [1834174, 10735684], [1911584, 10671901], [1893385, 10851025], [2060872, 10980686], [2102786, 11097414], [2199465, 11095525], [2211524, 11013591], [2277546, 11000263], [2301560, 11087382], [2352223, 11052516], [2392145, 11129873], [2487074, 11151536], [2556208, 11295309], [2642830, 11276754], [2845039, 11390229], [2853508, 11252143], [3101387, 11397071], [3168751, 11306760], [3255593, 11321158], [3376067, 11240039], [3394872, 11163269], [3355787, 11046049], [3435916, 10990917], [3443079, 10945979], [3433384, 10921322], [3368713, 10953074], [3347966, 10898918], [3300096, 10859566], [3216761, 10764044]]], [[[1560765, 10505133], [1501976, 10459962], [1487716, 10482378], [1549611, 10556563], [1560765, 10505133]]], [[[1473099, 10447595], [1450369, 10387357], [1428931, 10415906], [1457474, 10501211], [1473099, 10447595]]], [[[1023872, 9356839], [1008312, 9304123], [963897, 9323030], [972502, 9352225], [1023872, 9356839]]], [[[2711158, 11366486], [2679148, 11364308], [2673671, 11441250], [2703471, 11463465], [2711158, 11366486]]]] },
      id: 'NO',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2537204, 7239275], [2596137, 7218280], [2617639, 7161934], [2625882, 7112778], [2650696, 7030309], [2662344, 6965410], [2656261, 6929044], [2580201, 6851484], [2632208, 6810125], [2621315, 6744514], [2629082, 6711925], [2639298, 6670554], [2682355, 6552995], [2621312, 6489963], [2525411, 6372681], [2527928, 6309245], [2512129, 6289871], [2381982, 6348790], [2294845, 6346059], [2241582, 6322163], [2213469, 6309577], [2167100, 6379654], [2128840, 6346443], [2098545, 6363078], [2067840, 6430777], [2007654, 6457674], [1940255, 6490470], [1882182, 6524480], [1877211, 6480658], [1845709, 6471041], [1818131, 6549519], [1793058, 6561735], [1729378, 6582360], [1690003, 6613764], [1650129, 6598427], [1666918, 6685927], [1639721, 6724856], [1638257, 6800340], [1642544, 6812797], [1625364, 6849466], [1617958, 6871866], [1621375, 6913840], [1607057, 6924006], [1575916, 6963708], [1574465, 6975855], [1604354, 7044206], [1588256, 7113131], [1712993, 7200309], [1858934, 7278711], [1966638, 7319909], [2035993, 7324468], [2064056, 7281636], [2109508, 7238310], [2186192, 7257421], [2186888, 7256154], [2151972, 7237154], [2143674, 7223071], [2204545, 7254393], [2241582, 7249371], [2261289, 7246700], [2399973, 7231473], [2537204, 7239275]]] },
      id: 'PL',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[-823978, 4463504], [-898808, 4446495], [-986060, 4458855], [-979202, 4501029], [-978769, 4536294], [-972383, 4652531], [-1021322, 4645537], [-1051437, 4687810], [-1048235, 4729509], [-1006357, 4828437], [-990179, 4872557], [-976816, 4940990], [-963261, 5007148], [-976987, 5082209], [-980900, 5102971], [-986645, 5141835], [-912709, 5184139], [-908932, 5133801], [-896329, 5134146], [-801552, 5142983], [-777656, 5156703], [-738879, 5145769], [-701399, 5100115], [-721318, 5055860], [-744704, 5042662], [-771433, 5016689], [-757222, 4943085], [-764224, 4905357], [-773815, 4903424], [-780421, 4827702], [-839675, 4817064], [-805003, 4761633], [-781562, 4723493], [-801849, 4686069], [-809942, 4643743], [-791254, 4606035], [-771638, 4608905], [-828848, 4536294], [-836309, 4512716], [-823978, 4463504]]]] },
      id: 'PT',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[3181387, 5425100], [3083039, 5463484], [3035832, 5485014], [2936811, 5471419], [2934179, 5471195], [2857816, 5417309], [2843605, 5410337], [2815979, 5412271], [2744557, 5422766], [2707682, 5418777], [2684140, 5419125], [2630523, 5433163], [2577648, 5436438], [2560033, 5435757], [2556605, 5480665], [2524187, 5498877], [2504653, 5560605], [2450825, 5558643], [2450404, 5559130], [2377614, 5593482], [2391051, 5651961], [2339554, 5672773], [2300176, 5747417], [2255811, 5800624], [2304904, 5806177], [2312729, 5824675], [2354126, 5834339], [2386846, 5885369], [2411064, 5945687], [2463313, 6040250], [2469160, 6040581], [2548801, 6099226], [2577648, 6125629], [2615296, 6101501], [2734095, 6095873], [2777099, 6061908], [2905308, 6103328], [2964500, 6150177], [3027062, 6090962], [3049171, 6038815], [3129615, 5915738], [3142361, 5850823], [3129837, 5797645], [3140474, 5695388], [3189516, 5661132], [3261399, 5686483], [3302520, 5670760], [3303922, 5654933], [3290263, 5601703], [3227607, 5571225], [3196232, 5524033], [3181387, 5425100]]] },
      id: 'RO',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2234883, 5244606], [2255874, 5220021], [2278723, 5193330], [2284059, 5176861], [2292545, 5142621], [2289048, 5137959], [2288806, 5121087], [2288481, 5098550], [2282234, 5059235], [2292930, 5025926], [2319656, 5001681], [2335506, 4991076], [2343951, 4955968], [2313052, 4916758], [2294615, 4877524], [2269061, 4863431], [2269950, 4835253], [2260047, 4838768], [2227505, 4821250], [2224427, 4822956], [2225908, 4844443], [2213589, 4866515], [2178691, 4891362], [2150554, 4960117], [2164327, 5012419], [2172711, 5052049], [2177112, 5097925], [2174657, 5121087], [2172964, 5137089], [2156540, 5137662], [2157824, 5176861], [2158754, 5205365], [2169397, 5220021], [2188802, 5243260], [2207577, 5231109], [2234883, 5244606]]] },
      id: 'AL',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[1885783, 6210164], [1886841, 6196459], [1875857, 6180141], [1889782, 6135558], [1899861, 6126622], [1910331, 6107962], [1891474, 6060405], [1828038, 6051352], [1853049, 6015277], [1829398, 5999871], [1832257, 5949278], [1793785, 5920729], [1780693, 5915248], [1757336, 5894456], [1742149, 5894178], [1714541, 5885707], [1677042, 5885474], [1633567, 5852869], [1621388, 5840237], [1606841, 5851618], [1526656, 5864512], [1503286, 5871569], [1417252, 5882584], [1412715, 5886262], [1389036, 5889971], [1359397, 5925240], [1362634, 5953371], [1350975, 5955251], [1319935, 5942699], [1294334, 5944245], [1242802, 5936481], [1222474, 5910690], [1165476, 5918424], [1129333, 5917789], [1069455, 5952000], [1070958, 5966862], [1060958, 5986352], [1064072, 6030978], [1109612, 6031695], [1113142, 6021274], [1133049, 5986276], [1159835, 6005660], [1163783, 6033271], [1211846, 6030146], [1223535, 6006974], [1226351, 6007013], [1271427, 6014990], [1270180, 6023302], [1294967, 6039318], [1319935, 6040896], [1342587, 6043660], [1373465, 6056608], [1399846, 6045902], [1413289, 6054150], [1452280, 6027451], [1442617, 6086151], [1433326, 6100637], [1431589, 6106296], [1419497, 6125643], [1440996, 6141310], [1466862, 6155971], [1497961, 6200328], [1498724, 6199595], [1500039, 6199855], [1500201, 6201093], [1501200, 6200931], [1501880, 6201338], [1502121, 6202078], [1503277, 6202719], [1503511, 6203307], [1503160, 6204516], [1503547, 6205503], [1503896, 6205569], [1528093, 6192631], [1535776, 6226404], [1540607, 6236196], [1635396, 6204618], [1674284, 6269225], [1730178, 6259214], [1753686, 6249816], [1885783, 6210164]]] },
      id: 'AT',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[670255, 6577946], [703044, 6532804], [713005, 6502457], [683241, 6468812], [670689, 6477990], [639677, 6420960], [647670, 6368072], [638368, 6367966], [609016, 6359657], [600403, 6380228], [573712, 6397568], [553195, 6412026], [533531, 6471773], [493423, 6436171], [471230, 6438976], [460958, 6442598], [448370, 6508565], [416409, 6508515], [406930, 6526628], [402429, 6531641], [377343, 6541249], [361264, 6570685], [344921, 6582297], [336041, 6581332], [335616, 6581339], [335206, 6580745], [334615, 6580020], [332096, 6578452], [330865, 6577227], [329969, 6577183], [329130, 6577707], [327291, 6576372], [327056, 6575465], [327743, 6574030], [326962, 6573679], [326228, 6573012], [326172, 6570447], [325309, 6568889], [324123, 6568943], [323854, 6567425], [322871, 6567215], [321312, 6569400], [319503, 6568907], [318738, 6569864], [290214, 6605864], [283421, 6637120], [306023, 6649959], [346280, 6676716], [374678, 6686976], [376333, 6669958], [429286, 6658712], [442792, 6661214], [471418, 6683129], [472223, 6684147], [472403, 6687849], [476399, 6688078], [519811, 6697066], [529873, 6710660], [567972, 6697533], [583060, 6667699], [619636, 6660451], [645461, 6631888], [641882, 6622836], [633143, 6588092], [647774, 6570957], [670255, 6577946]]] },
      id: 'BE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[3181387, 5425100], [3172381, 5378282], [3123645, 5360263], [3103879, 5287409], [3085826, 5220021], [3110385, 5176861], [3120899, 5158445], [3012267, 5174221], [2999974, 5161011], [2956818, 5149942], [2934146, 5117802], [2888588, 5059707], [2883891, 5057815], [2808001, 5051453], [2802955, 5058203], [2758937, 5065616], [2726402, 5092859], [2678318, 5089661], [2629836, 5067920], [2611605, 5071891], [2552288, 5062405], [2556823, 5089322], [2552043, 5121087], [2545567, 5164305], [2520552, 5176861], [2505848, 5184250], [2489127, 5207704], [2500400, 5258621], [2498323, 5285442], [2506415, 5291983], [2532340, 5295211], [2561040, 5341376], [2532235, 5371005], [2523276, 5373476], [2494321, 5427090], [2508712, 5472488], [2524187, 5498877], [2556605, 5480665], [2560033, 5435757], [2577648, 5436438], [2630523, 5433163], [2684140, 5419125], [2707682, 5418777], [2744557, 5422766], [2815979, 5412271], [2843605, 5410337], [2857816, 5417309], [2934179, 5471195], [2936811, 5471419], [3035832, 5485014], [3083039, 5463484], [3181387, 5425100]]] },
      id: 'BG',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[1064072, 6030978], [1060958, 5986352], [1054869, 5950533], [1069455, 5952000], [1129333, 5917789], [1165476, 5918424], [1163600, 5865803], [1132555, 5873750], [1118837, 5834192], [1040556, 5856310], [1029542, 5817890], [1019617, 5807570], [992096, 5753219], [970031, 5795951], [933382, 5853106], [876879, 5768651], [875425, 5767018], [784233, 5767925], [759317, 5849067], [719454, 5849852], [694785, 5835581], [687684, 5809500], [663026, 5801543], [681900, 5831332], [675042, 5847303], [683291, 5870171], [719454, 5917809], [763672, 5969123], [763469, 5969414], [772467, 6013155], [793747, 6024573], [821637, 6012857], [836110, 6024498], [841037, 6034717], [844808, 6038894], [849824, 6034148], [858695, 6030567], [878768, 6038316], [938026, 6035210], [947871, 6045058], [947342, 6069701], [958887, 6073825], [964400, 6054757], [965191, 6054586], [1022157, 6049797], [1057046, 6032555], [1064072, 6030978]]] },
      id: 'CH',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[3743134, 4143663], [3667051, 4115303], [3624451, 4121491], [3603345, 4143663], [3611595, 4174455], [3675455, 4209333], [3785663, 4222707], [3777054, 4172041], [3743134, 4143663]]], [[[3878422, 4277034], [3837699, 4228571], [3829299, 4240854], [3855298, 4286646], [3878422, 4277034]]]] },
      id: 'CY',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[1650129, 6598427], [1690003, 6613764], [1729378, 6582360], [1793058, 6561735], [1818131, 6549519], [1845709, 6471041], [1877211, 6480658], [1882182, 6524480], [1940255, 6490470], [2007654, 6457674], [2067840, 6430777], [2098545, 6363078], [2048679, 6342451], [2039644, 6328490], [1964447, 6250169], [1936595, 6243250], [1885783, 6210164], [1753686, 6249816], [1730178, 6259214], [1674284, 6269225], [1635396, 6204618], [1540607, 6236196], [1508555, 6269397], [1493535, 6271475], [1466179, 6304366], [1406384, 6356051], [1401933, 6367366], [1380531, 6404535], [1397170, 6429855], [1364866, 6456354], [1353721, 6484437], [1347066, 6501536], [1400820, 6517076], [1441381, 6516592], [1503019, 6556743], [1519753, 6573735], [1575304, 6595080], [1593858, 6630975], [1613155, 6628997], [1627357, 6596179], [1650129, 6598427]]] },
      id: 'CZ',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[1048874, 7329335], [1054032, 7326475], [1056639, 7327519], [1088495, 7309204], [1090305, 7277409], [1131954, 7252562], [1132583, 7235910], [1192649, 7228146], [1225227, 7231605], [1206851, 7168629], [1213790, 7161983], [1287051, 7175478], [1335665, 7203363], [1358217, 7216636], [1367619, 7222402], [1475327, 7278547], [1508155, 7253214], [1482708, 7206890], [1583665, 7156656], [1582193, 7144910], [1569407, 7125851], [1588256, 7113131], [1604354, 7044206], [1574465, 6975855], [1575916, 6963708], [1607057, 6924006], [1621375, 6913840], [1617958, 6871866], [1625364, 6849466], [1642544, 6812797], [1638257, 6800340], [1639721, 6724856], [1666918, 6685927], [1650129, 6598427], [1627357, 6596179], [1613155, 6628997], [1593858, 6630975], [1575304, 6595080], [1519753, 6573735], [1503019, 6556743], [1441381, 6516592], [1400820, 6517076], [1347066, 6501536], [1353721, 6484437], [1364866, 6456354], [1397170, 6429855], [1380531, 6404535], [1401933, 6367366], [1406384, 6356051], [1466179, 6304366], [1493535, 6271475], [1508555, 6269397], [1540607, 6236196], [1535776, 6226404], [1528093, 6192631], [1503896, 6205569], [1503547, 6205503], [1503160, 6204516], [1503511, 6203307], [1503277, 6202719], [1502121, 6202078], [1501880, 6201338], [1501200, 6200931], [1500201, 6201093], [1500039, 6199855], [1498724, 6199595], [1497961, 6200328], [1466862, 6155971], [1440996, 6141310], [1419497, 6125643], [1431589, 6106296], [1433326, 6100637], [1442617, 6086151], [1452280, 6027451], [1413289, 6054150], [1399846, 6045902], [1373465, 6056608], [1342587, 6043660], [1319935, 6040896], [1294967, 6039318], [1270180, 6023302], [1271427, 6014990], [1226351, 6007013], [1223535, 6006974], [1211846, 6030146], [1163783, 6033271], [1159835, 6005660], [1133049, 5986276], [1113142, 6021274], [1109612, 6031695], [1064072, 6030978], [1057046, 6032555], [1022157, 6049797], [965191, 6054586], [964400, 6054757], [958887, 6073825], [947342, 6069701], [947871, 6045058], [938026, 6035210], [878768, 6038316], [858695, 6030567], [849824, 6034148], [844808, 6038894], [840016, 6064300], [843957, 6092648], [843500, 6126117], [843570, 6127074], [855013, 6149762], [886062, 6227245], [916453, 6269191], [898171, 6274745], [880610, 6282528], [849997, 6284021], [820286, 6302302], [808656, 6297595], [790487, 6301373], [748453, 6312074], [729920, 6346294], [708783, 6354906], [710224, 6368895], [720790, 6415381], [683241, 6468812], [713005, 6502457], [703044, 6532804], [670255, 6577946], [677596, 6605943], [654234, 6626974], [687377, 6653997], [676005, 6664317], [692898, 6686110], [662706, 6754661], [686593, 6782209], [713311, 6769102], [743800, 6787915], [752572, 6821593], [786548, 6843887], [779690, 6872704], [745603, 6888534], [746924, 6914450], [779930, 6916456], [789555, 6953125], [801811, 7003979], [802495, 7028085], [808658, 7043440], [789561, 7052202], [833977, 7109790], [869394, 7114984], [900718, 7101914], [906386, 7086330], [897383, 7077140], [912325, 7059045], [952327, 7080730], [948488, 7095926], [958832, 7125851], [967052, 7149711], [989523, 7143147], [1003936, 7138939], [1032336, 7145088], [1024112, 7147482], [983240, 7174690], [984599, 7220758], [961347, 7344744], [989523, 7340834], [1014465, 7337373], [1032336, 7325404], [1048874, 7329335]]], [[[896647, 7217806], [888627, 7168728], [850010, 7221027], [879219, 7235306], [896647, 7217806]]], [[[969333, 7158894], [943779, 7134346], [926694, 7139467], [943579, 7180145], [969333, 7158894]]]] },
      id: 'DE',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[1048874, 7329335], [1032336, 7325404], [1014465, 7337373], [989523, 7340834], [961347, 7344744], [911674, 7471891], [911003, 7523130], [911784, 7669325], [965453, 7664048], [989523, 7702018], [1035809, 7697618], [1009216, 7745517], [989523, 7744667], [970404, 7704362], [926722, 7727182], [960871, 7780956], [989523, 7784817], [1144697, 7883369], [1168371, 7832215], [1135347, 7695729], [1204277, 7656505], [1207912, 7622945], [1107155, 7504951], [1076688, 7501307], [1095207, 7361673], [1071221, 7338962], [1048874, 7329335]]], [[[1400706, 7520282], [1400858, 7503272], [1419359, 7488874], [1404763, 7473583], [1391693, 7484606], [1376295, 7477975], [1360276, 7444803], [1368248, 7402146], [1331084, 7300677], [1266325, 7325719], [1277912, 7372053], [1249690, 7422823], [1250403, 7487688], [1283054, 7530270], [1329427, 7523130], [1352477, 7577354], [1393452, 7569614], [1394280, 7540808], [1400706, 7520282]]], [[[1211562, 7369088], [1202663, 7337518], [1160865, 7339283], [1147387, 7339283], [1087106, 7433811], [1118259, 7473053], [1190535, 7468127], [1211562, 7369088]]], [[[1687926, 7380074], [1680261, 7361133], [1664003, 7362082], [1636041, 7387261], [1644635, 7415503], [1664003, 7404275], [1687926, 7380074]]]] },
      id: 'DK',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[3044764, 7866788], [2944943, 7874397], [2788142, 7975756], [2764517, 7961602], [2710943, 7941430], [2728538, 8029440], [2667276, 8028724], [2618362, 8090551], [2618047, 8210834], [2641676, 8231859], [2875400, 8303315], [2896008, 8315500], [2978838, 8289124], [3121612, 8282699], [3130326, 8256987], [3045373, 8134522], [3077417, 7963332], [3044764, 7866788]]], [[[2561766, 8153892], [2548291, 8102732], [2582556, 8104536], [2578162, 8066994], [2503388, 7999641], [2461869, 8004879], [2438389, 8057807], [2500280, 8101163], [2516972, 8191857], [2561766, 8153892]]]] },
      id: 'EE',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[2897953, 4972636], [2853389, 4992126], [2798521, 5010968], [2762225, 4991432], [2748766, 4961312], [2728871, 4998389], [2656945, 4979759], [2645516, 4976696], [2644602, 4958588], [2632842, 4911511], [2593690, 4897341], [2560811, 4916984], [2524995, 4943110], [2522940, 4937633], [2511243, 4891362], [2523010, 4862275], [2550988, 4808409], [2570882, 4776762], [2556171, 4718165], [2538078, 4695093], [2602404, 4653966], [2611605, 4650136], [2615754, 4686577], [2677579, 4649431], [2670377, 4632893], [2633326, 4629279], [2637205, 4627611], [2670605, 4612697], [2669840, 4592306], [2676486, 4537866], [2643125, 4558795], [2635180, 4571210], [2626801, 4581570], [2611605, 4582812], [2580352, 4572589], [2573710, 4541352], [2581893, 4521839], [2595886, 4524438], [2595194, 4545780], [2608614, 4545796], [2606683, 4502826], [2539991, 4501430], [2558211, 4445786], [2557403, 4401706], [2493417, 4399634], [2458676, 4429063], [2428212, 4412040], [2413432, 4491848], [2392064, 4521839], [2361044, 4560050], [2376791, 4593865], [2433948, 4619798], [2490548, 4599537], [2573432, 4587997], [2574394, 4603242], [2548605, 4610529], [2516742, 4630217], [2455157, 4634982], [2432524, 4632471], [2360584, 4629608], [2311884, 4701950], [2349800, 4728284], [2304684, 4728843], [2279581, 4761117], [2227505, 4821250], [2260047, 4838768], [2269950, 4835253], [2269061, 4863431], [2294615, 4877524], [2313052, 4916758], [2343951, 4955968], [2335506, 4991076], [2425360, 5002188], [2441174, 5027155], [2473098, 5037517], [2485993, 5030098], [2546899, 5062718], [2552288, 5062405], [2611605, 5071891], [2629836, 5067920], [2678318, 5089661], [2726402, 5092859], [2758937, 5065616], [2802955, 5058203], [2808001, 5051453], [2883891, 5057815], [2888588, 5059707], [2934146, 5117802], [2960241, 5074508], [2897953, 4972636]]], [[[2707002, 4212062], [2774973, 4219317], [2837612, 4204498], [2917531, 4187117], [2906922, 4168265], [2844276, 4162625], [2769074, 4157829], [2752098, 4176465], [2703675, 4187826], [2631513, 4197715], [2622028, 4212809], [2632580, 4230807], [2682504, 4239812], [2707002, 4212062]]], [[[2920545, 4527600], [2964043, 4524637], [2959343, 4548095], [2990531, 4558672], [3006611, 4541346], [2971690, 4502016], [2925741, 4507909], [2920545, 4527600]]], [[[2937679, 4770766], [2947798, 4745078], [2941819, 4719295], [2912665, 4723181], [2912665, 4749132], [2896720, 4735768], [2877879, 4751081], [2884472, 4761635], [2937679, 4770766]]], [[[3125590, 4316892], [3101424, 4289974], [3086065, 4290824], [3083502, 4316892], [3084087, 4337045], [3127289, 4354592], [3125590, 4316892]]], [[[2851051, 4457188], [2854442, 4423105], [2832115, 4419565], [2823422, 4442421], [2801505, 4426874], [2785908, 4439044], [2798882, 4462923], [2851051, 4457188]]], [[[2911609, 4623417], [2895636, 4601043], [2885106, 4614717], [2893213, 4634518], [2875863, 4656257], [2894692, 4664798], [2912400, 4657589], [2911609, 4623417]]], [[[2268997, 4609147], [2284837, 4640248], [2305318, 4643465], [2305318, 4587870], [2268997, 4609147]]], [[[2738200, 4596131], [2717001, 4566983], [2682038, 4592867], [2696096, 4606470], [2738200, 4596131]]], [[[2575799, 4351318], [2566290, 4304400], [2544164, 4320109], [2542360, 4351318], [2575799, 4351318]]], [[[2850754, 4356182], [2837675, 4330807], [2804708, 4362794], [2832276, 4380147], [2850754, 4356182]]], [[[2332207, 4544019], [2322594, 4524319], [2287258, 4555333], [2302049, 4580176], [2332207, 4544019]]], [[[2674958, 4891488], [2678341, 4855471], [2647369, 4860989], [2637098, 4895131], [2674958, 4891488]]], [[[2791043, 4567102], [2781607, 4532507], [2745813, 4561004], [2768403, 4581122], [2791043, 4567102]]], [[[2865830, 4919470], [2839116, 4908081], [2828711, 4929966], [2839113, 4953819], [2863487, 4947472], [2865830, 4919470]]], [[[2682094, 4720261], [2659027, 4706525], [2647621, 4736574], [2684599, 4761688], [2682094, 4720261]]], [[[2320725, 4672666], [2280720, 4653776], [2289271, 4695368], [2306749, 4708338], [2320725, 4672666]]], [[[2213380, 4802761], [2196425, 4802207], [2175714, 4833791], [2202714, 4845191], [2217852, 4834221], [2213380, 4802761]]], [[[2812289, 4874783], [2815162, 4830101], [2781325, 4838544], [2780539, 4865363], [2812289, 4874783]]], [[[2364808, 4466359], [2330523, 4453108], [2311177, 4472973], [2353879, 4492386], [2364808, 4466359]]]] },
      id: 'EL',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[53183, 5266423], [73485, 5265049], [82967, 5273832], [95536, 5285485], [148033, 5266407], [160586, 5251839], [166490, 5232184], [192115, 5236838], [192695, 5235027], [353418, 5226421], [342398, 5153438], [309303, 5108517], [183157, 5041239], [103522, 5008994], [82967, 4979209], [57356, 4942225], [-20980, 4825619], [-32954, 4775875], [-4187, 4705414], [16054, 4679660], [-48083, 4632972], [-84841, 4557836], [-181454, 4491532], [-198803, 4464301], [-210758, 4445576], [-233534, 4409993], [-310167, 4406285], [-348284, 4404440], [-375585, 4403760], [-420505, 4402640], [-487560, 4397186], [-584695, 4343537], [-594360, 4321561], [-595729, 4321635], [-597715, 4322022], [-603737, 4323688], [-606198, 4310447], [-622846, 4302666], [-644826, 4311873], [-657547, 4324871], [-671872, 4327076], [-713409, 4393283], [-715786, 4402578], [-706385, 4411094], [-773128, 4461341], [-823978, 4463504], [-836309, 4512716], [-828848, 4536294], [-771638, 4608905], [-791254, 4606035], [-809942, 4643743], [-801849, 4686069], [-781562, 4723493], [-805003, 4761633], [-839675, 4817064], [-780421, 4827702], [-773815, 4903424], [-764224, 4905357], [-757222, 4943085], [-771433, 5016689], [-744704, 5042662], [-721318, 5055860], [-701399, 5100115], [-738879, 5145769], [-777656, 5156703], [-801552, 5142983], [-896329, 5134146], [-908932, 5133801], [-912709, 5184139], [-986645, 5141835], [-978049, 5211147], [-971457, 5264640], [-997653, 5255863], [-1025170, 5308772], [-1016743, 5324269], [-1000816, 5353631], [-960564, 5363053], [-926616, 5371006], [-857131, 5424542], [-846182, 5414994], [-782781, 5395217], [-651612, 5405596], [-502307, 5372014], [-375585, 5374309], [-351028, 5365891], [-310167, 5377735], [-273760, 5363053], [-236326, 5363053], [-210758, 5364701], [-198814, 5365471]]], [[[268216, 4806678], [309646, 4844327], [336982, 4855567], [349693, 4832717], [371831, 4834758], [383706, 4816159], [358949, 4773987], [339366, 4760675], [310594, 4774447], [293373, 4803335], [281178, 4787907], [268216, 4806678]]], [[[175298, 4727468], [154135, 4693376], [126097, 4703720], [138734, 4732980], [175298, 4727468]]], [[[488808, 4845869], [466502, 4836641], [434899, 4865742], [462933, 4881515], [488808, 4845869]]]] },
      id: 'ES',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[3216761, 10764044], [3170176, 10600526], [3188051, 10517945], [3216761, 10492169], [3334688, 10342373], [3242432, 10153446], [3279952, 10028789], [3292044, 9996332], [3348318, 9814288], [3312282, 9740617], [3306289, 9584323], [3344521, 9539898], [3346243, 9490036], [3347225, 9461737], [3393958, 9389836], [3370806, 9311995], [3336459, 9288365], [3465150, 9163740], [3508992, 9074362], [3471642, 8975602], [3355611, 8824191], [3115975, 8550209], [3095079, 8522909], [3056184, 8494659], [2975617, 8491039], [2944838, 8509118], [2612660, 8372111], [2560724, 8374564], [2559193, 8418149], [2507585, 8388873], [2472862, 8449663], [2379198, 8424536], [2357604, 8576742], [2384538, 8636276], [2403799, 8750556], [2374397, 8848217], [2350617, 9030155], [2357740, 9119057], [2562951, 9311995], [2629069, 9362160], [2704860, 9490036], [2734234, 9549875], [2731911, 9629256], [2762534, 9634258], [2772807, 9572768], [2812020, 9593435], [2792406, 9765242], [2745166, 9786470], [2688937, 9826675], [2645570, 9952213], [2654448, 10109771], [2605745, 10453838], [2287464, 10769440], [2341410, 10824116], [2372254, 10846676], [2403259, 10837876], [2414726, 10824116], [2447204, 10773467], [2568774, 10650767], [2674885, 10682836], [2784319, 10640742], [2854010, 10739375], [2902802, 10979991], [3088805, 11088334], [3245370, 10935933], [3216761, 10764044]]], [[[2287620, 8421171], [2241582, 8407643], [2176077, 8449708], [2185468, 8471333], [2241582, 8475214], [2271017, 8469897], [2287620, 8421171]]], [[[2466414, 8354215], [2442756, 8330723], [2432002, 8364629], [2422855, 8393588], [2457320, 8399835], [2466414, 8354215]]], [[[2349528, 8504042], [2344331, 8459947], [2305341, 8466451], [2324252, 8525357], [2349528, 8504042]]]] },
      id: 'FI',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[647670, 6368072], [656049, 6359607], [708783, 6354906], [729920, 6346294], [748453, 6312074], [790487, 6301373], [808656, 6297595], [820286, 6302302], [849997, 6284021], [880610, 6282528], [898171, 6274745], [916453, 6269191], [886062, 6227245], [855013, 6149762], [843570, 6127074], [843500, 6126117], [843957, 6092648], [840016, 6064300], [844808, 6038894], [841037, 6034717], [836110, 6024498], [821637, 6012857], [793747, 6024573], [772467, 6013155], [763469, 5969414], [763672, 5969123], [719454, 5917809], [683291, 5870171], [675042, 5847303], [681900, 5831332], [663026, 5801543], [687684, 5809500], [694785, 5835581], [719454, 5849852], [759317, 5849067], [784233, 5767925], [757236, 5744934], [790894, 5695574], [793829, 5663665], [738054, 5638833], [786556, 5576525], [773497, 5567330], [766705, 5521523], [858745, 5474966], [838217, 5432078], [828133, 5426684], [827923, 5427087], [825204, 5424182], [824909, 5423654], [825396, 5423225], [771592, 5385360], [719454, 5335851], [631391, 5339298], [470913, 5382281], [456531, 5396788], [396641, 5364020], [379266, 5354536], [360733, 5344429], [338790, 5287372], [339783, 5264793], [353418, 5226421], [192695, 5235027], [192115, 5236838], [198828, 5247302], [160586, 5251839], [148033, 5266407], [95536, 5285485], [82967, 5273832], [73485, 5265049], [53183, 5266423], [-34881, 5289072], [-80651, 5299827], [-160175, 5351316], [-192461, 5357149], [-196968, 5363053], [-198814, 5365471], [-169735, 5392932], [-139604, 5538098], [-126830, 5686798], [-79574, 5673366], [-127330, 5747633], [-129411, 5832452], [-198803, 5865351], [-210758, 5884561], [-224402, 5906535], [-220464, 5946763], [-273676, 6015509], [-310167, 6034563], [-344151, 6014802], [-375585, 6058589], [-392179, 6081795], [-481471, 6087134], [-485829, 6133183], [-518667, 6172533], [-493611, 6210691], [-407335, 6217269], [-375585, 6229287], [-347549, 6239913], [-310167, 6204722], [-216856, 6196985], [-174894, 6211722], [-196072, 6362875], [-156970, 6378898], [-124632, 6329721], [33087, 6348124], [71723, 6350382], [76931, 6361385], [82967, 6363274], [82967, 6363710], [82967, 6364146], [12993, 6366828], [30251, 6399769], [82967, 6423939], [153581, 6457561], [183091, 6507184], [175715, 6548992], [183364, 6597111], [230174, 6622466], [283421, 6637120], [290214, 6605864], [318738, 6569864], [319503, 6568907], [321312, 6569400], [322871, 6567215], [323854, 6567425], [324123, 6568943], [325309, 6568889], [326172, 6570447], [326228, 6573012], [326962, 6573679], [327743, 6574030], [327056, 6575465], [327291, 6576372], [329130, 6577707], [329969, 6577183], [330865, 6577227], [332096, 6578452], [334615, 6580020], [335206, 6580745], [335616, 6581339], [336041, 6581332], [344921, 6582297], [361264, 6570685], [377343, 6541249], [402429, 6531641], [406930, 6526628], [416409, 6508515], [448370, 6508565], [460958, 6442598], [471230, 6438976], [493423, 6436171], [533531, 6471773], [553195, 6412026], [573712, 6397568], [600403, 6380228], [609016, 6359657], [638368, 6367966], [647670, 6368072]]], [[[959570, 5217044], [1047722, 5281129], [1046648, 5139832], [1040800, 5121087], [1028706, 5082432], [1000448, 5088402], [990010, 5121087], [972280, 5176861], [959570, 5217044]]]] },
      id: 'FR',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[2102796, 5767727], [2118849, 5698490], [2115656, 5690207], [2123652, 5675286], [2162400, 5647960], [2130352, 5640231], [2117527, 5598779], [2096554, 5601098], [2086212, 5624773], [2062714, 5635309], [2005864, 5641910], [1985262, 5631213], [1941780, 5646698], [1908149, 5647265], [1809356, 5632163], [1763303, 5656930], [1751804, 5611394], [1795826, 5536054], [1800309, 5497876], [1829912, 5472016], [1841708, 5461447], [1942619, 5338932], [2020885, 5264793], [2052520, 5244588], [2062217, 5224172], [1996667, 5264566], [1964695, 5295080], [1957145, 5302604], [1932067, 5324791], [1885632, 5362861], [1782952, 5388682], [1729815, 5443470], [1705905, 5457297], [1705905, 5452075], [1705905, 5451436], [1705905, 5446307], [1705905, 5445657], [1705905, 5444808], [1705905, 5442073], [1705905, 5437396], [1705905, 5433197], [1694548, 5445560], [1674108, 5486462], [1700809, 5522267], [1664669, 5550876], [1658940, 5572874], [1656576, 5626426], [1617040, 5609964], [1583676, 5645764], [1541257, 5603960], [1507598, 5675286], [1519655, 5693289], [1570861, 5697778], [1571630, 5697604], [1601989, 5701126], [1621926, 5728092], [1694999, 5689010], [1706671, 5742428], [1714813, 5747194], [1748429, 5776386], [1739619, 5794134], [1757899, 5822004], [1767029, 5825224], [1814680, 5841179], [1808068, 5859235], [1847548, 5856944], [1876263, 5836687], [1878633, 5831876], [1925195, 5778514], [1941780, 5772275], [1964956, 5755998], [1993965, 5746885], [2095178, 5766640], [2102796, 5767727]]], [[[1768358, 5307052], [1743063, 5297985], [1720609, 5310757], [1731272, 5319763], [1767171, 5334828], [1783735, 5327195], [1768358, 5307052]]], [[[1851331, 5205045], [1817903, 5201751], [1794839, 5220161], [1809775, 5234885], [1838162, 5231054], [1851331, 5205045]]], [[[1929103, 5306981], [1923750, 5290373], [1890409, 5291370], [1884057, 5305325], [1896261, 5324822], [1916314, 5326221], [1929103, 5306981]]]] },
      id: 'HR',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2466317, 6174230], [2548801, 6099226], [2469160, 6040581], [2463313, 6040250], [2411064, 5945687], [2386846, 5885369], [2354126, 5834339], [2312729, 5824675], [2304904, 5806177], [2255811, 5800624], [2241582, 5801857], [2211405, 5804473], [2192782, 5810517], [2148768, 5778995], [2102796, 5767727], [2095178, 5766640], [1993965, 5746885], [1964956, 5755998], [1941780, 5772275], [1925195, 5778514], [1878633, 5831876], [1876263, 5836687], [1847548, 5856944], [1822388, 5896854], [1793785, 5920729], [1832257, 5949278], [1829398, 5999871], [1853049, 6015277], [1828038, 6051352], [1891474, 6060405], [1910331, 6107962], [1919975, 6108853], [1970960, 6066853], [1991942, 6063619], [2098203, 6076668], [2088374, 6092648], [2107099, 6116315], [2116665, 6119797], [2232165, 6134800], [2278035, 6184392], [2383418, 6198798], [2462507, 6170025], [2466317, 6174230]]] },
      id: 'HU',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[-697752, 7189562], [-691839, 7101031], [-677306, 7073064], [-679358, 7022081], [-684004, 6934625], [-721822, 6840338], [-872985, 6791852], [-1069962, 6711930], [-1137603, 6758240], [-1129865, 6845029], [-1043680, 6907107], [-1046888, 6977205], [-1002912, 7009088], [-1099100, 7044820], [-1130699, 7090090], [-1117293, 7128275], [-1132090, 7173040], [-1102874, 7220375], [-1016598, 7200966], [-935125, 7261538], [-962055, 7300469], [-918529, 7387477], [-814170, 7422461], [-807742, 7374887], [-852165, 7317923], [-842706, 7292818], [-872871, 7233837], [-827004, 7204870], [-800221, 7234370], [-764123, 7232935], [-739597, 7204324], [-734151, 7178622], [-697752, 7189562]]] },
      id: 'IE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[-2463000, 9360081], [-2421972, 9432926], [-2378903, 9447008], [-2460594, 9460421], [-2557794, 9556507], [-2510024, 9727139], [-2630861, 9733374], [-2666705, 9790758], [-2527073, 9954965], [-2437829, 9914962], [-2334704, 9748080], [-2236389, 9863315], [-1944953, 9893387], [-1782827, 9993082], [-1653636, 9895606], [-1556188, 9761910], [-1531567, 9672191], [-1553469, 9571555], [-1668786, 9424443], [-2029635, 9221630], [-2241159, 9235954], [-2445436, 9320114], [-2463000, 9360081]]] },
      id: 'IS',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[1526656, 5864512], [1523299, 5850734], [1504040, 5836353], [1502472, 5788580], [1513627, 5751475], [1513527, 5749624], [1534501, 5739225], [1547698, 5722171], [1540212, 5714493], [1527542, 5715678], [1511695, 5746274], [1497276, 5733046], [1486391, 5738054], [1458150, 5723567], [1361182, 5672917], [1372633, 5646832], [1380257, 5588932], [1365878, 5563461], [1378612, 5500285], [1385967, 5490576], [1419400, 5460750], [1466369, 5426889], [1518631, 5384422], [1529860, 5356852], [1530222, 5356036], [1530881, 5354342], [1531478, 5352748], [1532225, 5350939], [1532592, 5350126], [1533342, 5348563], [1533722, 5347838], [1535173, 5342302], [1536648, 5338136], [1537412, 5336835], [1538204, 5334082], [1539449, 5331294], [1540867, 5327689], [1541279, 5326357], [1541407, 5324177], [1541714, 5322124], [1549092, 5295939], [1560193, 5264793], [1574826, 5240795], [1586744, 5227843], [1645263, 5171474], [1685174, 5150052], [1786580, 5146842], [1785605, 5121087], [1783866, 5075320], [1841481, 5046243], [1935733, 4996405], [1992681, 4965528], [2014599, 4941121], [2052102, 4892705], [2040270, 4848572], [2015105, 4856788], [1977424, 4908978], [1877655, 4923926], [1852837, 4883264], [1841213, 4825547], [1895222, 4791179], [1904674, 4728735], [1880268, 4711239], [1864336, 4704833], [1844830, 4680266], [1845909, 4646006], [1762486, 4569677], [1742467, 4599561], [1772090, 4651264], [1804907, 4694555], [1791482, 4728656], [1753945, 4854831], [1741587, 4872162], [1680261, 4891956], [1644882, 4949088], [1612048, 4959763], [1562050, 4997432], [1531845, 5045315], [1421920, 5073936], [1370196, 5121087], [1306206, 5184685], [1274601, 5217722], [1191750, 5303127], [1146574, 5400971], [1141928, 5436880], [1129167, 5461639], [1115284, 5472337], [1058798, 5499035], [961022, 5524407], [905623, 5455998], [838217, 5432078], [858745, 5474966], [766705, 5521523], [773497, 5567330], [786556, 5576525], [738054, 5638833], [793829, 5663665], [790894, 5695574], [757236, 5744934], [784233, 5767925], [875425, 5767018], [876879, 5768651], [933382, 5853106], [970031, 5795951], [992096, 5753219], [1019617, 5807570], [1029542, 5817890], [1040556, 5856310], [1118837, 5834192], [1132555, 5873750], [1163600, 5865803], [1165476, 5918424], [1222474, 5910690], [1242802, 5936481], [1294334, 5944245], [1319935, 5942699], [1350975, 5955251], [1362634, 5953371], [1359397, 5925240], [1389036, 5889971], [1412715, 5886262], [1417252, 5882584], [1503286, 5871569], [1526656, 5864512]], [[1376173, 5143661], [1379376, 5141376], [1393569, 5142789], [1390353, 5154201], [1383999, 5152021], [1376173, 5143661]], [[1390722, 5451040], [1388155, 5461268], [1385967, 5449545], [1386264, 5449123], [1387309, 5449015], [1388022, 5449451], [1390093, 5449432], [1390722, 5451040]]], [[[1578898, 4582166], [1707995, 4602733], [1698522, 4552229], [1679978, 4489085], [1697387, 4449523], [1669832, 4397768], [1622282, 4407046], [1596054, 4439383], [1562503, 4453896], [1435631, 4519858], [1407601, 4528524], [1397093, 4569578], [1444622, 4585107], [1472366, 4606762], [1578898, 4582166]]], [[[958727, 4715627], [931272, 4731604], [934304, 4785836], [946467, 4824324], [942502, 4894821], [935062, 4925347], [916332, 4982153], [979911, 5002177], [1044225, 5041290], [1085295, 4962041], [1071786, 4894821], [1074358, 4800666], [1059839, 4747698], [958727, 4715627]]], [[[1357395, 4414680], [1335210, 4384947], [1309118, 4422611], [1319802, 4434032], [1357395, 4414680]]]] },
      id: 'IT',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[1069455, 5952000], [1054869, 5950533], [1060958, 5986352], [1070958, 5966862], [1069455, 5952000]]] },
      id: 'LI',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2964479, 7495106], [2976729, 7413246], [2966069, 7393134], [2928938, 7387618], [2915815, 7362525], [2889610, 7352294], [2868791, 7322045], [2867698, 7280602], [2857535, 7207168], [2764725, 7198431], [2724591, 7157086], [2617639, 7161934], [2596137, 7218280], [2537204, 7239275], [2540480, 7328243], [2514592, 7375512], [2410186, 7396876], [2381156, 7414337], [2368156, 7409689], [2343273, 7540808], [2344860, 7572191], [2446603, 7635472], [2519779, 7632059], [2551500, 7638288], [2577648, 7624158], [2688566, 7609016], [2766120, 7631954], [2874424, 7568810], [2899445, 7547297], [2964479, 7495106]]] },
      id: 'LT',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[683241, 6468812], [720790, 6415381], [710224, 6368895], [708783, 6354906], [656049, 6359607], [647670, 6368072], [639677, 6420960], [670689, 6477990], [683241, 6468812]]] },
      id: 'LU',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2964479, 7495106], [2899445, 7547297], [2874424, 7568810], [2766120, 7631954], [2688566, 7609016], [2577648, 7624158], [2551500, 7638288], [2519779, 7632059], [2446603, 7635472], [2344860, 7572191], [2345831, 7716153], [2417105, 7871302], [2503771, 7905506], [2576700, 7825036], [2613452, 7769367], [2664380, 7761421], [2684937, 7777776], [2714184, 7825126], [2710943, 7941430], [2764517, 7961602], [2788142, 7975756], [2944943, 7874397], [3044764, 7866788], [3082523, 7836238], [3134151, 7592301], [3075896, 7533312], [2964479, 7495106]]] },
      id: 'LV',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2265678, 5286645], [2234883, 5244606], [2207577, 5231109], [2188802, 5243260], [2169397, 5220021], [2158754, 5205365], [2157824, 5176861], [2156540, 5137662], [2062217, 5224172], [2052520, 5244588], [2082418, 5335648], [2140014, 5392617], [2233507, 5313011], [2265678, 5286645]]] },
      id: 'ME',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2552288, 5062405], [2546899, 5062718], [2485993, 5030098], [2473098, 5037517], [2441174, 5027155], [2425360, 5002188], [2335506, 4991076], [2319656, 5001681], [2292930, 5025926], [2282234, 5059235], [2288481, 5098550], [2288806, 5121087], [2289048, 5137959], [2292545, 5142621], [2329059, 5177273], [2361387, 5177576], [2387026, 5196231], [2403048, 5200430], [2489127, 5207704], [2505848, 5184250], [2520552, 5176861], [2545567, 5164305], [2552043, 5121087], [2556823, 5089322], [2552288, 5062405]]] },
      id: 'MK',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[1630371, 4291448], [1606714, 4261748], [1584521, 4284324], [1604331, 4309837], [1630371, 4291448]]], [[[1597233, 4304862], [1587663, 4301546], [1577693, 4310127], [1584156, 4312722], [1597233, 4304862]]]] },
      id: 'MT',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[2287464, 10769440], [2605745, 10453838], [2654448, 10109771], [2645570, 9952213], [2688937, 9826675], [2689739, 9793353], [2551660, 9788259], [2493342, 9711685], [2459970, 9725776], [2398223, 9625001], [2354703, 9547989], [2369979, 9490036], [2362259, 9407437], [2241582, 9257133], [2146960, 9216365], [2050900, 9103367], [2046171, 9063359], [1943965, 8944077], [1946900, 8891689], [1930842, 8821297], [1946336, 8783446], [1911792, 8665504], [1933911, 8546864], [2080590, 8451386], [2117798, 8334652], [2069475, 8190993], [1994061, 8138464], [1956150, 8169772], [1935797, 8118412], [1865268, 8100102], [1887634, 8003009], [1855327, 7966493], [1862133, 7872881], [1836851, 7783653], [1866561, 7717616], [1837578, 7630766], [1812793, 7673420], [1786664, 7622763], [1756914, 7579413], [1619298, 7570632], [1575774, 7449555], [1466676, 7438667], [1409694, 7566568], [1435945, 7648324], [1327251, 7875911], [1279914, 7963963], [1246218, 8105552], [1248358, 8174458], [1275309, 8178233], [1293759, 8165187], [1304298, 8190993], [1316486, 8231974], [1327704, 8353237], [1317993, 8364371], [1352477, 8374895], [1384597, 8417177], [1399115, 8497163], [1368670, 8622816], [1410438, 8638688], [1413014, 8724289], [1356136, 8804141], [1369160, 8922850], [1364182, 8938064], [1341673, 9145374], [1352477, 9203549], [1358738, 9253621], [1393957, 9311995], [1463734, 9368792], [1559990, 9368415], [1570631, 9447686], [1540450, 9490036], [1528445, 9506952], [1594761, 9639764], [1628309, 9894356], [1720331, 9971978], [1716020, 10016308], [1819242, 10174360], [1799812, 10279337], [1861309, 10413621], [1922059, 10474188], [1968679, 10456649], [2011605, 10487893], [2017769, 10608309], [2217717, 10562214], [2263634, 10756576], [2287464, 10769440]]], [[[2088218, 7817447], [2026294, 7754238], [2028345, 7789135], [2014583, 7814223], [2025026, 7839497], [2016097, 7869976], [2055110, 7928837], [2085615, 7951563], [2125965, 7954022], [2116241, 7913362], [2093647, 7894643], [2088218, 7817447]]]] },
      id: 'SE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[1847548, 5856944], [1808068, 5859235], [1814680, 5841179], [1767029, 5825224], [1757899, 5822004], [1739619, 5794134], [1748429, 5776386], [1714813, 5747194], [1706671, 5742428], [1694999, 5689010], [1621926, 5728092], [1601989, 5701126], [1571630, 5697604], [1570861, 5697778], [1519655, 5693289], [1527542, 5715678], [1540212, 5714493], [1547698, 5722171], [1534501, 5739225], [1513527, 5749624], [1513627, 5751475], [1502472, 5788580], [1504040, 5836353], [1523299, 5850734], [1526656, 5864512], [1606841, 5851618], [1621388, 5840237], [1633567, 5852869], [1677042, 5885474], [1714541, 5885707], [1742149, 5894178], [1757336, 5894456], [1780693, 5915248], [1793785, 5920729], [1822388, 5896854], [1847548, 5856944]]] },
      id: 'SI',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[2512129, 6289871], [2491644, 6251523], [2486167, 6224381], [2468600, 6202945], [2466317, 6174230], [2462507, 6170025], [2383418, 6198798], [2278035, 6184392], [2232165, 6134800], [2116665, 6119797], [2107099, 6116315], [2088374, 6092648], [2098203, 6076668], [1991942, 6063619], [1970960, 6066853], [1919975, 6108853], [1910331, 6107962], [1899861, 6126622], [1889782, 6135558], [1875857, 6180141], [1886841, 6196459], [1885783, 6210164], [1936595, 6243250], [1964447, 6250169], [2039644, 6328490], [2048679, 6342451], [2098545, 6363078], [2128840, 6346443], [2167100, 6379654], [2213469, 6309577], [2241582, 6322163], [2294845, 6346059], [2381982, 6348790], [2512129, 6289871]]] },
      id: 'SK',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[3953367, 5106606], [4001873, 5116079], [4044722, 5059317], [4094398, 5062826], [4135781, 5034257], [4242385, 5006225], [4361421, 5023277], [4489324, 5010555], [4592141, 5061129], [4625006, 5089403], [4732768, 5077205], [4766142, 5094622], [4839484, 5030545], [4839018, 5020804], [4864858, 4979553], [4859532, 4884907], [4939822, 4866084], [4983588, 4824490], [4988454, 4812572], [4953951, 4824901], [4939567, 4786619], [4903619, 4773776], [4944166, 4621491], [4929755, 4569745], [4949583, 4552559], [4970247, 4498814], [4986350, 4463707], [4933399, 4445043], [4912502, 4478068], [4834000, 4477555], [4772471, 4490807], [4715013, 4454177], [4693188, 4471626], [4637942, 4453460], [4537697, 4452501], [4477942, 4425368], [4365518, 4393895], [4235438, 4417601], [4184001, 4397896], [4136636, 4394137], [4083063, 4415807], [4080974, 4415887], [4076167, 4336941], [4029918, 4283679], [3998241, 4290791], [3990058, 4344710], [4027319, 4396239], [4003393, 4425595], [3948258, 4380411], [3884966, 4402689], [3821168, 4384875], [3741922, 4321901], [3626382, 4313458], [3544797, 4382231], [3434175, 4419986], [3410631, 4412367], [3381455, 4342873], [3315220, 4324112], [3257271, 4342587], [3174264, 4412528], [3109666, 4396798], [3112057, 4430251], [3052312, 4448470], [3051342, 4498814], [3033456, 4509429], [3035078, 4561789], [2945383, 4621172], [2988914, 4691718], [2979346, 4746800], [2983118, 4794265], [2963178, 4800457], [2922840, 4792284], [2908602, 4811931], [2906141, 4855610], [2935865, 4916463], [3061985, 4910317], [3135289, 4923599], [3211390, 4921503], [3227289, 4933933], [3227223, 4952087], [3288476, 4968552], [3266394, 4984012], [3220952, 5003766], [3243552, 5048502], [3324626, 5033523], [3379068, 5039548], [3448907, 5023056], [3483817, 5029514], [3569190, 5098317], [3611833, 5121087], [3644166, 5138389], [3714709, 5162076], [3810341, 5154235], [3896498, 5162799], [3938680, 5121087], [3953367, 5106606]]], [[[2897953, 4972636], [2960241, 5074508], [2934146, 5117802], [2956818, 5149942], [2999974, 5161011], [3012267, 5174221], [3120899, 5158445], [3128986, 5121087], [3133975, 5098117], [3137168, 5095900], [3211390, 5054450], [3211390, 5007928], [3115955, 5015048], [3068602, 5006570], [3002137, 4946685], [2976114, 4959816], [2897953, 4972636]]], [[[2902503, 4885205], [2871617, 4869055], [2851767, 4888163], [2897119, 4914001], [2902503, 4885205]]]] },
      id: 'TR',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[-12266, 6711936], [-2751, 6707653], [24205, 6706656], [25709, 6705425], [26692, 6704621], [27173, 6704323], [28464, 6703522], [30904, 6701906], [31563, 6701974], [32628, 6702305], [34440, 6704156], [35117, 6703962], [36637, 6701433], [37819, 6700842], [39627, 6700531], [41160, 6700430], [45263, 6700084], [47697, 6700705], [48266, 6700821], [48738, 6700811], [49331, 6701282], [51085, 6702165], [66009, 6704160], [69786, 6687934], [82967, 6686011], [105787, 6682682], [141250, 6681990], [149889, 6661821], [107314, 6608340], [95154, 6607810], [82967, 6605121], [-4250, 6585905], [-24046, 6590848], [-104784, 6590429], [-115818, 6586863], [-134674, 6587125], [-151969, 6600107], [-155658, 6601789], [-188358, 6574837], [-193777, 6572184], [-198803, 6571972], [-210758, 6571468], [-218655, 6571135], [-310167, 6571537], [-328149, 6571616], [-375585, 6553472], [-390623, 6536212], [-389090, 6521495], [-396333, 6513320], [-421375, 6491078], [-452988, 6507820], [-463335, 6511687], [-462819, 6521588], [-469616, 6528983], [-571543, 6457097], [-607457, 6471101], [-506054, 6608630], [-414195, 6662629], [-375585, 6658229], [-360312, 6656489], [-333173, 6678151], [-301970, 6710946], [-297648, 6718168], [-282160, 6741981], [-296788, 6735185], [-310167, 6728073], [-343163, 6710560], [-375585, 6690819], [-404964, 6704828], [-432613, 6731237], [-451128, 6746652], [-553411, 6734544], [-578976, 6763560], [-437598, 6900851], [-485838, 6979950], [-446099, 7028804], [-375585, 7045985], [-343331, 7030515], [-346282, 7037998], [-343970, 7057986], [-326005, 7040226], [-310167, 7041188], [-314664, 7044586], [-315280, 7045394], [-334932, 7064508], [-341442, 7088611], [-329083, 7113079], [-310167, 7118520], [-327562, 7141957], [-320084, 7165216], [-319428, 7203700], [-350138, 7188262], [-395869, 7276049], [-376123, 7327625], [-347222, 7347883], [-340345, 7359323], [-375585, 7348951], [-506487, 7310541], [-565099, 7333284], [-561185, 7361656], [-539272, 7425362], [-518557, 7473344], [-542212, 7498776], [-544237, 7533530], [-533137, 7548894], [-506487, 7543159], [-506487, 7545602], [-522262, 7558448], [-528617, 7599000], [-582848, 7469420], [-640100, 7434268], [-630620, 7612197], [-685299, 7665808], [-654637, 7700326], [-636151, 7807209], [-612751, 7835491], [-619631, 7922329], [-564519, 8036643], [-427363, 8051671], [-493374, 7861839], [-375585, 7888893], [-311863, 7903569], [-213271, 7853119], [-269988, 7710245], [-279591, 7687062], [-298211, 7662264], [-339735, 7650237], [-364791, 7628516], [-328705, 7620316], [-326818, 7619288], [-325222, 7617242], [-324077, 7614378], [-323507, 7611003], [-323572, 7607479], [-324265, 7604183], [-325513, 7601466], [-327188, 7599597], [-375672, 7564261], [-376863, 7563524], [-377828, 7563811], [-378473, 7563354], [-377246, 7562880], [-377419, 7561847], [-377178, 7560827], [-377471, 7559730], [-378022, 7560314], [-378882, 7560417], [-379417, 7561258], [-380052, 7561816], [-383109, 7562949], [-383671, 7562624], [-383882, 7562285], [-384542, 7562727], [-384982, 7563868], [-388069, 7565270], [-390079, 7565232], [-391692, 7566652], [-392938, 7566346], [-394689, 7566518], [-395723, 7567229], [-396321, 7568452], [-398133, 7570137], [-399587, 7570214], [-399224, 7569352], [-399314, 7568438], [-399599, 7567865], [-400172, 7567581], [-401576, 7567691], [-402317, 7569236], [-402764, 7569515], [-406334, 7568947], [-408548, 7567695], [-410231, 7567990], [-412641, 7569513], [-414735, 7572297], [-416295, 7573971], [-417379, 7574370], [-418292, 7574876], [-418767, 7575140], [-420328, 7577094], [-422170, 7579447], [-423474, 7580433], [-425210, 7580523], [-426289, 7578916], [-426479, 7579294], [-426668, 7579671], [-426028, 7580325], [-426101, 7581197], [-426914, 7581959], [-428460, 7582780], [-429356, 7582412], [-429494, 7581941], [-429560, 7580366], [-430135, 7579786], [-429588, 7579860], [-429320, 7580096], [-429034, 7580754], [-429211, 7581975], [-428419, 7581767], [-427266, 7581329], [-427562, 7579754], [-427192, 7578653], [-426579, 7578193], [-425257, 7578173], [-411284, 7563165], [-391369, 7558865], [-381306, 7557227], [-342602, 7547851], [-263451, 7547696], [-226460, 7520915], [-210758, 7501241], [-198803, 7486295], [-181239, 7464067], [-173361, 7421763], [-162715, 7376317], [-151829, 7351041], [-149989, 7334876], [-138284, 7308213], [-134579, 7280868], [-88043, 7276836], [-23859, 7199375], [-21784, 7165216], [-5467, 7125851], [-32985, 7125851], [-46658, 7117233], [-77742, 7110658], [-44684, 7112060], [1935, 7080774], [30762, 7025811], [12988, 6966264], [29607, 6947951], [82967, 6967849], [105343, 6976208], [148062, 6967429], [186513, 6935544], [193756, 6896914], [169210, 6817198], [117596, 6791359], [105343, 6752228], [82967, 6741700], [65764, 6733616], [67556, 6713372], [57185, 6715798], [42465, 6702928], [23434, 6708437], [10798, 6713022], [1048, 6711489], [-8844, 6711615], [-12266, 6711936], [-12535, 6712078], [-16692, 6707629], [-27218, 6708199], [-24805, 6705181], [-14290, 6707548], [-12266, 6711936]]], [[[-697752, 7189562], [-734151, 7178622], [-739597, 7204324], [-764123, 7232935], [-800221, 7234370], [-827004, 7204870], [-872871, 7233837], [-842706, 7292818], [-852165, 7317923], [-807742, 7374887], [-795830, 7370290], [-772183, 7394979], [-691204, 7415061], [-665304, 7372858], [-653261, 7301696], [-657360, 7295261], [-647157, 7295261], [-617743, 7295261], [-608077, 7249506], [-614378, 7238861], [-625514, 7257525], [-624512, 7228873], [-664365, 7181887], [-697752, 7189562]]], [[[-797965, 7862211], [-818292, 7779153], [-829523, 7784645], [-820110, 7843065], [-829523, 7898543], [-788278, 7928205], [-796928, 7970750], [-775254, 8020171], [-702336, 8066186], [-690553, 8029545], [-709481, 7970750], [-765234, 7925054], [-802761, 7882128], [-797965, 7862211]]], [[[-662421, 7825289], [-667144, 7765178], [-685618, 7777546], [-703546, 7731553], [-720911, 7756817], [-692908, 7803516], [-707481, 7825289], [-746986, 7825289], [-752685, 7847609], [-714661, 7874841], [-701423, 7912601], [-662421, 7825289]]], [[[-96914, 8567038], [-129895, 8453590], [-147092, 8425278], [-159954, 8494658], [-148618, 8521659], [-128023, 8505919], [-127999, 8567038], [-96914, 8567038]]], [[[-309789, 8216190], [-353155, 8140487], [-375742, 8162416], [-369350, 8196326], [-328993, 8248560], [-309789, 8216190]]], [[[-672468, 7495848], [-686475, 7485846], [-718548, 7518179], [-707085, 7535195], [-666471, 7548779], [-666471, 7517653], [-672468, 7495848]]], [[[-462039, 7028437], [-484711, 7001913], [-514607, 7046091], [-476424, 7064404], [-462039, 7028437]]], [[[-119296, 8374004], [-143117, 8336727], [-160558, 8355668], [-170568, 8374325], [-160558, 8404130], [-119296, 8374004]]], [[[-125627, 6580841], [-125542, 6541922], [-153066, 6542011], [-164910, 6567537], [-153553, 6586877], [-125627, 6580841]]], [[[-821261, 8056976], [-830671, 8001488], [-868064, 8007100], [-876280, 8026027], [-821261, 8056976]]], [[[-928148, 7929619], [-937908, 7893380], [-976005, 7915176], [-983858, 7950062], [-928148, 7929619]]], [[[-309789, 8216190], [-310451, 8219521], [-290128, 8250764], [-279894, 8204391], [-301871, 8183025], [-309789, 8216190]]], [[[-327726, 7124212], [-345047, 7120790], [-344560, 7137769], [-335057, 7158038], [-327726, 7124212]]], [[[82967, 6720883], [87717, 6719708], [87965, 6714216], [82967, 6715082], [69261, 6717458], [70801, 6723894], [82967, 6720883]]]] },
      id: 'UK',
    },
  ],
};

// array describing member states through their country code and population
// https://europa.eu/european-union/about-eu/figures/living_en#size-and-population
const dataPopulation = [
  {
    state: 'Belgium',
    population: 11258434,
    code: 'BE',
  },
  {
    state: 'France',
    population: 66415161,
    code: 'FR',
  },
  {
    state: 'Germany',
    population: 81197537,
    code: 'DE',
  },
  {
    state: 'Italy',
    population: 60795612,
    code: 'IT',
  },
  {
    state: 'Luxembourg',
    population: 562958,
    code: 'LU',
  },
  {
    state: 'Netherlands',
    population: 16900726,
    code: 'NL',
  },
  {
    state: 'Denmark',
    population: 5659715,
    code: 'DK',
  },
  {
    state: 'Ireland',
    population: 4628949,
    code: 'IE',
  },
  {
    state: 'United Kingdom',
    population: 64875165,
    code: 'UK',
  },
  {
    state: 'Greece',
    population: 10858018,
    code: 'EL',
  },
  {
    state: 'Portugal',
    population: 10374822,
    code: 'PT',
  },
  {
    state: 'Spain',
    population: 46449565,
    code: 'ES',
  },
  {
    state: 'Austria',
    population: 8576261,
    code: 'AT',
  },
  {
    state: 'Finland',
    population: 5471753,
    code: 'FI',
  },
  {
    state: 'Sweden',
    population: 9747355,
    code: 'SE',
  },
  {
    state: 'Cyprus',
    population: 847008,
    code: 'CY',
  },
  {
    state: 'Czechia',
    population: 10538275,
    code: 'CZ',
  },
  {
    state: 'Estonia',
    population: 1313271,
    code: 'EE',
  },
  {
    state: 'Hungary',
    population: 9855571,
    code: 'HU',
  },
  {
    state: 'Latvia',
    population: 1986096,
    code: 'LV',
  },
  {
    state: 'Lithuania',
    population: 2921262,
    code: 'LT',
  },
  {
    state: 'Malta',
    population: 429344,
    code: 'MT',
  },
  {
    state: 'Poland',
    population: 38005614,
    code: 'PL',
  },
  {
    state: 'Slovakia',
    population: 5421349,
    code: 'SK',
  },
  {
    state: 'Slovenia',
    population: 2062874,
    code: 'SI',
  },
  {
    state: 'Bulgaria',
    population: 7202198,
    code: 'BG',
  },
  {
    state: 'Romania',
    population: 19870647,
    code: 'RO',
  },
  {
    state: 'Croatia',
    population: 4225316,
    code: 'HR',
  },
];

// array describing the member states per year of entry
// https://europa.eu/european-union/about-eu/countries_en#tab-0-1
const dataEntry = [
  {
    description: 'Founding fathers',
    year: '1958-01-01',
    states: [
      'Belgium',
      'France',
      'Germany',
      'Italy',
      'Luxembourg',
      'Netherlands',
    ],
  },
  {
    description: 'First enlargement',
    year: '1973-01-01',
    states: [
      'Denmark',
      'Ireland',
      'United Kingdom',
    ],
  },
  {
    description: 'Greece joins the EU',
    year: '1981-01-01',
    states: [
      'Greece',
    ],
  },
  {
    description: 'Spain and Portugal become members',
    year: '1986-01-01',
    states: [
      'Portugal',
      'Spain',
    ],
  },
  {
    description: 'The fourth enlargement',
    year: '1995-01-01',
    states: [
      'Austria',
      'Finland',
      'Sweden',
    ],
  },
  {
    description: 'Largest enlargement so far',
    year: '2004-01-05',
    states: [
      'Cyprus',
      'Czechia',
      'Estonia',
      'Hungary',
      'Latvia',
      'Lithuania',
      'Malta',
      'Poland',
      'Slovakia',
      'Slovenia',
    ],
  },
  {
    description: 'Romania and Bulgaria join',
    year: '2007-01-01',
    states: [
      'Bulgaria',
      'Romania',
    ],
  },
  {
    description: 'Croatia joins the EU Union',
    year: '2013-01-07',
    states: [
      'Croatia',
    ],
  },
];

/* data massaging: create an array describing the necessary data
  description,
  year,
  states,
  population

  where population refers to the _cumulative_ population in the european union
*/
const data = dataEntry.reduce((acc, { description, year, states }, index) => {
  const populationStates = states.map(state => dataPopulation.find(member => member.state === state).population).reduce((cumulative, current) => cumulative + current, 0);
  const population = acc[index - 1] ? acc[index - 1].population + populationStates : populationStates;
  return [...acc, ({
    description,
    year,
    states,
    population
  })]
},[]);

// create an additional array describing the member states' codes (used for the intersection observer API)
const memberStatesCodes = dataPopulation.map(({ code }) => code);

// VIZ
// GEO Visualization
// add an svg element in the .geo container
const margin = {
  top: 20,
  right: 20,
  bottom: 20,
  left: 20,
};

const width = 700 - (margin.left + margin.right);
const height = 500 - (margin.top + margin.bottom);

const geo = d3
  .select('.eu-geo')
  .append('svg')
  .attr('viewBox', `0 0 ${width + (margin.left + margin.right)} ${height + (margin.top + margin.bottom)}`);

// specify a repeating linear gradient to show the member states through the theme color
const defs = geo
  .append('defs');

const linearGradient = defs
  .append('linearGradient')
  .attr('id', 'gradient-member')
  .attr('gradientUnits', 'userSpaceOnUse')
  .attr('spreadMethod', 'repeat')
  .attr('x1', '0')
  .attr('x2', '4')
  .attr('y1', '0')
  .attr('y2', '4');

linearGradient
  .append('stop')
  .attr('stop-color', 'hsl(233, 85%, 88%)')
  .attr('offset', '0');

linearGradient
  .append('stop')
  .attr('stop-color', 'hsl(233, 85%, 88%)')
  .attr('offset', '0.5');

linearGradient
  .append('stop')
  .attr('stop-color', 'hsl(233, 50%, 95%)')
  .attr('offset', '0.5');

linearGradient
  .append('stop')
  .attr('stop-color', 'hsl(233, 50%, 95%)')
  .attr('offset', '1');

const geoGroup = geo
  .append('g')
  .attr('transform', `translate(${margin.left} ${margin.top})`);

// since the geoJSON is already projected use an identity function
const projection = d3
  .geoIdentity()
  .reflectY([true]) // for some reason the data is flipped around the x axis
  .fitSize([width, height], dataGeoJson);

// create a path generator function for the dataGeoJson data
const geoPath = d3
  .geoPath()
  .projection(projection);

// add path elements using the coordinates described in the dataGeoJson array
geoGroup
  .selectAll('path')
  .data(dataGeoJson.features)
  .enter()
  .append('path')
  .attr('d', geoPath)
  // add the country's id to differentiate the path elements
  .attr('id', ({ id }) => dataPopulation.find(({ code }) => code === id) ? dataPopulation.find(({ code }) => code === id).code : '')
  // use variations of the theme color for member states
  .attr('fill', ({ id }) => (dataPopulation.find(({ code }) => code === id) ? 'url(#gradient-member)' : 'hsl(233, 50%, 95%)'))
  .attr('stroke', ({ id }) => (dataPopulation.find(({ code }) => code === id) ? 'hsl(233, 70%, 55%)' : 'hsl(233, 20%, 60%)'))
  .attr('stroke-width', '1.5');



// LINE CHARTS
// scales for the visualizations, so to describe the year on the horizontal axis and the population value of the member states on the y axis
const startingTime = '1950-01-01';
const endingTime = '2019-01-01';
const xScale = d3
  .scaleTime()
  // starting and ending at arbitrary values
  .domain([new Date(startingTime), new Date(endingTime)])
  .range([0, width])
  .nice();

const yScale = d3
  .scaleLinear()
  // consider the sum of all population values
  .domain([0, dataPopulation.reduce((acc, { population }) => acc + population, 0)])
  .range([height, 0])
  .nice();

// format function to display the date objects through its month, day and year
const formatTime = d3.timeFormat('%B %d, %Y');
// format function to display the population separating the thousands and million's digits
const formatNumber = d3.format(',');
// format function to display percentages with two numbers after the decimal point
const formatPercentage = d3.format('.2');

// add a list item for each entry in the data array
const entries = d3
  .select('.eu-entries')
  .selectAll('li')
  .data(data)
  .enter()
  .append('li')
  // include the id(s) of the states as the string value of an attribute
  // used with the intersection observer API to highlight the connected member states
  .attr('data-id', d => d.states.map(state => dataPopulation.find(member => member.state === state).code).join(','));

// in each container add the list of countries and a line chart describing the population of the union
entries
  .append('h2')
  .text(({ description, year }) => `${description}: ${formatTime(new Date(year))}`);

// list the states joining the union
entries
  .append('p')
  .html(({ states }) => `${states.length > 1 ? 'New entries' : 'New entry'} : ${states.map(state => `<strong>${state}</strong>`).join(', ')}`);

entries
  .append('p')
  .html(({ population }, i) => i > 0 ? `Population growth: <strong>${formatPercentage((population - data[i-1].population) / population * 100)}%</strong>` : '');

// for the line chart include an svg using the same values included in the first visualization
const charts = entries
  .append('svg')
  .attr('viewBox', `0 0 ${width + (margin.left + margin.right)} ${height + (margin.top + margin.bottom)}`);

const chartsGroup = charts
  .append('g')
  .attr('transform', `translate(${margin.left} ${margin.top})`);

// instead of adding the x axis add a straight line at the bottom of the visualization
chartsGroup
  .append('path')
  .attr('d', `M 0 ${height} h ${width}`)
  .attr('fill', 'none')
  .attr('stroke', 'currentColor')
  .attr('stroke-width', '2');

// create a line function to describe the change in population
const line = d3
  .line()
  // horizontally consider the year
  .x(({ year }) => xScale(new Date(year)))
  // vertically consider the population
  .y(({ population }) => yScale(population))
  .curve(d3.curveStep);

// create an area function to color the area below the lune
// using the same values of the line function, plus the height to describe the area from the line to the bottom of the visualization
const area = d3
  .area()
  .x(({ year }) => xScale(new Date(year)))
  .y0(({ population }) => yScale(population))
  .y1(height)
  .curve(d3.curveStep);

// ! to show the line from the beginning of the svg include an additional data point starting at the beginning of the time scale
const dataLine = [{
  year: startingTime,
  population: 0,
}, ...data];

// add the path element using the line function and a subset of the population data
chartsGroup
  .append('path')
  // consider the member states included by the group (+1 due to the additional data point specifying the origin, +1 given zero-based indexing)
  .attr('d', (d, i) => line(dataLine.slice(0, i + 2)))
  .attr('fill', 'none')
  .attr('stroke', 'hsl(240, 80%, 50%)')
  .attr('stroke-width', 4);

// add a path for the area below the curve
chartsGroup
  .append('path')
  .attr('d', (d, i) => area(dataLine.slice(0, i + 2)))
  .attr('fill', 'hsl(240, 80%, 60%)')
  .attr('stroke', 'none')
  .attr('opacity', '0.1');

// add a group at the end of the line, to highlight the actual number
const chartsDetails = chartsGroup
  .append('g')
  // + 1 to skip the first value
  .attr('transform', (d, i) => `translate(${xScale(new Date(dataLine[i + 1].year))} ${yScale(dataLine[i + 1].population)})`);

chartsDetails
  .append('circle')
  .attr('r', 8)
  .attr('cx', 0)
  .attr('cy', 0)
  .attr('fill', '#fff')
  .attr('stroke', 'blue')
  .attr('stroke-width', 4);

chartsDetails
  .append('text')
  .attr('x', 0)
  .attr('text-anchor', 'middle')
  .attr('y', -25)
  // + 1 to skip the first value
  .text((d, i) => formatNumber(dataLine[i + 1].population))
  .attr('font-weight', 'bold')
  .attr('font-size', '2rem');


// INTERSECTION OBSERVER API
// function called every time the API observes an intersection with a list item
function highlightEntry(entry) {
  // retrieve the states represented by the selected list item
  const matchingCodes = entry.getAttribute('data-id').split(',');
  // find the last state in the provided array (this to select all states up to the last of the selected item)
  const lastCode = matchingCodes[matchingCodes.length - 1];
  const lastIndex = memberStatesCodes.findIndex(code => code === lastCode) + 1;
  // loop through the path elements describing a country and add the theme color for the selected countries
  // else reset to the default gradient
  memberStatesCodes.forEach((code, index) => {
    document.querySelector(`#${code}`).setAttribute('fill', index < lastIndex ? 'hsl(240, 70%, 40%)' : 'url(#gradient-member)');
  })
  // loop through all list items and add a class of .shown to the selected one (highlighted in the CSS)
  document.querySelectorAll('li').forEach(listItem => listItem === entry ? listItem.className = 'shown' : listItem.className = '');
}

// if the intersection observer API is made available, set up an observer to consider the intersection with every list item in the .eu-entries list
if(window.IntersectionObserver) {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if(entry.isIntersecting) {
        highlightEntry(entry.target);
      }
    })
  }, {
    threshold: 0.7 // 0.7 to have the viewport consider 70% of the list item before calling the desired function
  });

  const items = document.querySelectorAll('.eu-entries li');
  items.forEach(item => observer.observe(item));
}