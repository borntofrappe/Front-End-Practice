// geojson object describing the regions of mainland France
const geoJson = {
  type: 'FeatureCollection',
  features: [
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[723976, 1390314.0], [730980, 1390491.0], [732446, 1387234.0], [758822, 1362401.0], [768970, 1337277.0], [760822, 1329123.0], [764449, 1324742.0], [760212, 1308641.0], [764170, 1293333.0], [768518, 1291784.0], [761189, 1277339.0], [770015, 1252982.0], [762736, 1252663.0], [760123, 1247106.0], [749486, 1220842.0], [732946, 1216011.0], [737544, 1197618.0], [732961, 1194608.0], [732557, 1187068.0], [723515, 1180334.0], [718929, 1168665.0], [696179, 1170661.0], [673727, 1158605.0], [661101, 1151832.0], [665240, 1138364.0], [673727, 1129138.0], [677120, 1124215.0], [675136, 1107296.0], [673727, 1104888.0], [657295, 1093616.0], [661719, 1076051.0], [659190, 1072019.0], [653087, 1071341.0], [644526, 1082462.0], [630735, 1081615.0], [623905, 1090312.0], [616032, 1092960.0], [610297, 1114455.0], [603501, 1119462.0], [594466, 1118323.0], [581184, 1108120.0], [576093, 1104212.0], [564325, 1103397.0], [564060, 1113307.0], [554744, 1116455.0], [551489, 1129000.0], [546340, 1133738.0], [530207, 1123301.0], [516254, 1124962.0], [487144, 1113617.0], [474620, 1123442.0], [451265, 1124624.0], [432023, 1129213.0], [413244, 1116748.0], [403280, 1124261.0], [395501, 1144475.0], [410919, 1149621.0], [396231, 1168813.0], [396188, 1204441.0], [390852, 1239422.0], [368587, 1276223.0], [366542, 1286108.0], [358391, 1325622.0], [366542, 1324123.0], [386452, 1320463.0], [414728, 1326918.0], [426285, 1323340.0], [430936, 1314526.0], [427841, 1296533.0], [445763, 1262474.0], [449800, 1272578.0], [463522, 1274750.0], [480916, 1268268.0], [524749, 1264410.0], [545721, 1255758.0], [561506, 1258683.0], [581184, 1272999.0], [586049, 1276543.0], [603482, 1280877.0], [615466, 1283646.0], [626454, 1289718.0], [628046, 1287991.0], [635783, 1280831.0], [638673, 1280629.0], [641216, 1282354.0], [635699, 1282280.0], [629595, 1288463.0], [628484, 1288962.0], [626183, 1290093.0], [612256, 1284698.0], [598399, 1283994.0], [591888, 1284760.0], [589479, 1285883.0], [587111, 1288448.0], [581184, 1291363.0], [579091, 1293856.0], [578551, 1296282.0], [581184, 1304349.0], [586624, 1316391.0], [588905, 1324032.0], [594008, 1329536.0], [606970, 1335130.0], [612691, 1339553.0], [635678, 1353398.0], [648030, 1356665.0], [656812, 1357383.0], [673727, 1363543.0], [676540, 1364567.0], [684393, 1364865.0], [689990, 1366761.0], [703745, 1374036.0], [718859, 1387234.0], [723976, 1390314.0]]] },
      region: 'NORMANDIE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[760123, 1247106.0], [762736, 1252663.0], [770015, 1252982.0], [761189, 1277339.0], [768518, 1291784.0], [764170, 1293333.0], [760212, 1308641.0], [764449, 1324742.0], [760822, 1329123.0], [768970, 1337277.0], [758822, 1362401.0], [732446, 1387234.0], [730980, 1390491.0], [723976, 1390314.0], [739585, 1412791.0], [752043, 1413467.0], [742862, 1431383.0], [745214, 1439574.0], [753486, 1439937.0], [751157, 1443406.0], [746370, 1445299.0], [743905, 1449246.0], [746214, 1469612.0], [747830, 1474278.0], [746101, 1479280.0], [744530, 1500390.0], [748967, 1513518.0], [746612, 1530295.0], [753795, 1533241.0], [762058, 1542355.0], [767551, 1545527.0], [800569, 1555219.0], [811564, 1558243.0], [853816, 1569873.0], [862344, 1546375.0], [860609, 1538617.0], [863849, 1522409.0], [871703, 1520494.0], [889133, 1502617.0], [894124, 1501457.0], [906436, 1514085.0], [915316, 1515050.0], [924057, 1511028.0], [926104, 1510885.0], [931659, 1503438.0], [938117, 1470000.0], [947302, 1465205.0], [959010, 1470829.0], [962684, 1465633.0], [972824, 1464394.0], [977325, 1459381.0], [978570, 1440868.0], [983155, 1435045.0], [990095, 1439941.0], [1003881, 1436819.0], [1018765, 1441318.0], [1037736, 1422446.0], [1032237, 1405143.0], [1038886, 1392685.0], [1031353, 1375351.0], [1041625, 1371729.0], [1042163, 1336487.0], [1027385, 1315690.0], [1019810, 1314304.0], [1022551, 1297431.0], [1021013, 1276726.0], [1018577, 1270046.0], [1001140, 1275108.0], [997812, 1268891.0], [977898, 1261562.0], [978628, 1245251.0], [986269, 1234605.0], [973578, 1231074.0], [973689, 1220933.0], [970359, 1215309.0], [978462, 1210585.0], [958364, 1182524.0], [934127, 1198865.0], [926104, 1208606.0], [920993, 1223373.0], [912355, 1227584.0], [910382, 1222914.0], [901085, 1220926.0], [882982, 1223024.0], [873312, 1218512.0], [863426, 1224690.0], [858771, 1221141.0], [828230, 1237589.0], [820919, 1234670.0], [811564, 1238523.0], [802996, 1242054.0], [775277, 1236629.0], [765666, 1238615.0], [760123, 1247106.0]]] },
      region: 'NORD-PAS DE CALAIS-PICARDIE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[958364, 1182524.0], [978462, 1210585.0], [970359, 1215309.0], [973689, 1220933.0], [973578, 1231074.0], [986269, 1234605.0], [978628, 1245251.0], [977898, 1261562.0], [997812, 1268891.0], [1001140, 1275108.0], [1018577, 1270046.0], [1021013, 1276726.0], [1022551, 1297431.0], [1019810, 1314304.0], [1027385, 1315690.0], [1042163, 1336487.0], [1041625, 1371729.0], [1063818, 1368924.0], [1091109, 1378385.0], [1093063, 1387234.0], [1093306, 1393770.0], [1104361, 1404817.0], [1112417, 1404071.0], [1108710, 1387234.0], [1104917, 1373027.0], [1113479, 1363897.0], [1111901, 1346446.0], [1123590, 1344779.0], [1144107, 1330321.0], [1159344, 1323768.0], [1162609, 1313698.0], [1170798, 1312981.0], [1179411, 1292410.0], [1208763, 1300719.0], [1218065, 1300825.0], [1226444, 1292360.0], [1238305, 1285384.0], [1249629, 1286091.0], [1262314, 1294188.0], [1279178, 1287659.0], [1288358, 1287516.0], [1300315, 1279047.0], [1303500, 1264043.0], [1318848, 1244827.0], [1319892, 1237041.0], [1329235, 1234356.0], [1333903, 1243461.0], [1352294, 1239893.0], [1355383, 1229014.0], [1360882, 1234126.0], [1371054, 1227678.0], [1382459, 1228194.0], [1390681, 1235055.0], [1403152, 1235395.0], [1408575, 1224573.0], [1420392, 1216774.0], [1451005, 1215281.0], [1468566, 1207498.0], [1486848, 1201944.0], [1479751, 1195174.0], [1470929, 1175263.0], [1456457, 1159998.0], [1454681, 1157844.0], [1440088, 1139845.0], [1431577, 1095655.0], [1425408, 1082515.0], [1413965, 1059827.0], [1413895, 1058870.0], [1413538, 1046319.0], [1418025, 1035575.0], [1409548, 1005209.0], [1410411, 997053.0], [1407573, 986237.0], [1415203, 971647.0], [1411432, 967470.0], [1406505, 957251.0], [1399171, 950520.0], [1396512, 947996.0], [1392032, 945610.0], [1388900, 946025.0], [1387191, 947090.0], [1385973, 946920.0], [1370860, 947397.0], [1364142, 957326.0], [1358973, 969615.0], [1351517, 974358.0], [1352234, 993765.0], [1332508, 1010202.0], [1329987, 1008562.0], [1305758, 1029043.0], [1292233, 1021655.0], [1280743, 1032467.0], [1259904, 1030631.0], [1252550, 1042724.0], [1237920, 1033280.0], [1230647, 1033768.0], [1225479, 1027313.0], [1218068, 1015991.0], [1204580, 1008247.0], [1202621, 987869.0], [1173897, 985113.0], [1168635, 974067.0], [1155872, 970949.0], [1145345, 983920.0], [1137839, 982736.0], [1123804, 989704.0], [1119383, 1002405.0], [1124608, 1008253.0], [1120889, 1018840.0], [1115604, 1025578.0], [1109751, 1024264.0], [1110675, 1030793.0], [1104720, 1034104.0], [1103830, 1039563.0], [1094068, 1042975.0], [1081368, 1044169.0], [1076159, 1035092.0], [1051987, 1032586.0], [1048336, 1027251.0], [1039118, 1033132.0], [1027385, 1027872.0], [1006193, 1029992.0], [991839, 1059088.0], [986409, 1066055.0], [979307, 1064123.0], [970038, 1071347.0], [971879, 1084808.0], [960007, 1100122.0], [950528, 1104782.0], [948472, 1119213.0], [958565, 1138021.0], [966204, 1143429.0], [954931, 1147538.0], [956200, 1161164.0], [949730, 1167569.0], [958364, 1182524.0]]] },
      region: 'ALSACE-CHAMPAGNE-ARDENNE-LORRAINE',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[451265, 1124624.0], [474620, 1123442.0], [487144, 1113617.0], [516254, 1124962.0], [530207, 1123301.0], [546340, 1133738.0], [551489, 1129000.0], [554744, 1116455.0], [564060, 1113307.0], [564325, 1103397.0], [576093, 1104212.0], [581184, 1108120.0], [594466, 1118323.0], [603501, 1119462.0], [610297, 1114455.0], [616032, 1092960.0], [623905, 1090312.0], [630735, 1081615.0], [644526, 1082462.0], [653087, 1071341.0], [659190, 1072019.0], [670615, 1063581.0], [664211, 1056818.0], [659890, 1048254.0], [662951, 1043615.0], [663528, 1030608.0], [655969, 1021857.0], [651005, 1006701.0], [637030, 994262.0], [638793, 988886.0], [612815, 978737.0], [612799, 969155.0], [595999, 974705.0], [594603, 957692.0], [586617, 932901.0], [581184, 923301.0], [579584, 920476.0], [576387, 901594.0], [571153, 901398.0], [559027, 885411.0], [543380, 891486.0], [513908, 887358.0], [502300, 874575.0], [471102, 870881.0], [478887, 861499.0], [479987, 853481.0], [490288, 845132.0], [490576, 836311.0], [502300, 809451.0], [500358, 780474.0], [509202, 774936.0], [498867, 765598.0], [486853, 761994.0], [479032, 766688.0], [465730, 764086.0], [462874, 770203.0], [450695, 764531.0], [438958, 764395.0], [434572, 757623.0], [384142, 783733.0], [369491, 792771.0], [366542, 801976.0], [364842, 807286.0], [353248, 825490.0], [343996, 835300.0], [331722, 848334.0], [331505, 855788.0], [343996, 871867.0], [349931, 879516.0], [343996, 886594.0], [341711, 889320.0], [325304, 897495.0], [328156, 918006.0], [315992, 914639.0], [296688, 920273.0], [289890, 936481.0], [296719, 948262.0], [310880, 950692.0], [316294, 958712.0], [329838, 957705.0], [336357, 964174.0], [336954, 978496.0], [343996, 983569.0], [349271, 987371.0], [366542, 989603.0], [384142, 991879.0], [407566, 1011156.0], [431704, 1002542.0], [432554, 1008055.0], [443154, 1034348.0], [455830, 1040431.0], [448485, 1082682.0], [453103, 1095178.0], [451265, 1124624.0]]], [[[323392, 873408.0], [318577, 868124.0], [314070, 873117.0], [313741, 878904.0], [319678, 879414.0], [323392, 873408.0]]], [[[314401, 825562.0], [310966, 823242.0], [302686, 830083.0], [305112, 831714.0], [312668, 829251.0], [314401, 825562.0]]], [[[332037, 865184.0], [329876, 857845.0], [325076, 868011.0], [326150, 869876.0], [332037, 865184.0]]]] },
      region: 'PAYS DE LA LOIRE',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[395501, 1144475.0], [403280, 1124261.0], [413244, 1116748.0], [432023, 1129213.0], [451265, 1124624.0], [453103, 1095178.0], [448485, 1082682.0], [455830, 1040431.0], [443154, 1034348.0], [432554, 1008055.0], [431704, 1002542.0], [407566, 1011156.0], [384142, 991879.0], [366542, 989603.0], [349271, 987371.0], [343996, 983569.0], [336954, 978496.0], [336357, 964174.0], [329838, 957705.0], [316294, 958712.0], [310880, 950692.0], [296719, 948262.0], [293935, 957600.0], [281247, 963087.0], [258958, 955745.0], [244473, 969774.0], [222427, 969475.0], [217541, 973928.0], [198798, 991029.0], [182878, 993474.0], [178359, 1001400.0], [177752, 1013541.0], [167822, 1002832.0], [146039, 1006271.0], [127388, 1018387.0], [99439, 1007451.0], [88398, 1008473.0], [76603, 1031500.0], [60760, 1045699.0], [89352, 1065312.0], [83228, 1073190.0], [65003, 1077071.0], [60919, 1084670.0], [65009, 1089013.0], [86796, 1087501.0], [89160, 1091790.0], [72925, 1100780.0], [45914, 1098143.0], [40230, 1108596.0], [46163, 1130759.0], [81253, 1149260.0], [122174, 1157513.0], [135445, 1151852.0], [149610, 1155452.0], [163060, 1150022.0], [175137, 1162386.0], [172646, 1171386.0], [174723, 1174066.0], [217541, 1183031.0], [222629, 1184096.0], [244404, 1163509.0], [257909, 1139603.0], [270791, 1125949.0], [295969, 1146079.0], [308794, 1151183.0], [325281, 1138834.0], [333972, 1140826.0], [359192, 1155927.0], [363595, 1154198.0], [366542, 1142612.0], [384142, 1141851.0], [395501, 1144475.0]]], [[[229795, 925174.0], [225979, 920959.0], [217541, 923529.0], [210283, 925925.0], [208442, 932220.0], [210332, 936115.0], [217541, 932573.0], [229795, 925174.0]]], [[[7591, 1115667.0], [1297, 1112362.0], [0, 1115556.0], [2167, 1119990.0], [8180, 1119015.0], [7591, 1115667.0]]], [[[188678, 979433.0], [183483, 975647.0], [179342, 980627.0], [183483, 983596.0], [188678, 979433.0]]], [[[224681, 953898.0], [221838, 951417.0], [217907, 962412.0], [220951, 963457.0], [224681, 953898.0]]]] },
      region: 'BRETAGNE',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[450695, 764531.0], [462874, 770203.0], [465730, 764086.0], [479032, 766688.0], [486853, 761994.0], [498867, 765598.0], [509202, 774936.0], [500358, 780474.0], [502300, 809451.0], [490576, 836311.0], [490288, 845132.0], [479987, 853481.0], [478887, 861499.0], [471102, 870881.0], [502300, 874575.0], [513908, 887358.0], [543380, 891486.0], [559027, 885411.0], [571153, 901398.0], [576387, 901594.0], [581184, 898347.0], [591065, 891665.0], [592833, 885251.0], [603732, 881977.0], [606189, 865749.0], [634932, 868115.0], [636209, 875748.0], [645931, 870618.0], [650070, 857866.0], [666961, 833826.0], [671859, 826416.0], [672928, 811255.0], [695356, 795879.0], [701670, 783697.0], [701449, 774845.0], [720685, 776510.0], [727933, 768919.0], [739665, 779980.0], [763031, 777543.0], [767759, 785721.0], [811564, 781337.0], [811712, 781322.0], [824320, 780730.0], [830310, 765621.0], [845922, 757422.0], [855971, 736054.0], [854723, 729192.0], [859503, 708497.0], [849188, 693531.0], [837592, 685126.0], [847818, 671163.0], [851353, 661168.0], [845356, 649009.0], [849630, 629922.0], [848845, 616297.0], [834851, 617058.0], [830631, 606385.0], [816955, 590062.0], [811564, 568481], [805071, 563772], [807397, 553124], [800037, 550576], [782217, 549644], [769777, 542729], [752530, 558577], [742119, 560921], [731615, 557316], [727795, 553337], [728659, 533966], [716564, 522000], [714001, 511062], [698248, 500186], [690079, 487977], [680914, 481466], [688848, 456958], [670874, 454140], [669164, 447203], [672668, 436777], [667712, 421246], [659217, 418269], [652981, 408290], [643910, 405520], [635763, 409371], [612595, 399605], [581184, 395863], [578860, 395586], [575767, 383847], [566457, 394346], [547308, 384605], [547710, 358130], [539752, 341425], [543363, 334193], [559621, 333797], [560559, 330965], [571555, 297846], [566462, 290707], [563044, 275341], [555226, 264851], [539647, 243980], [534971, 229705], [535514, 221825], [525426, 215215], [508707, 213817], [489744, 232580], [484553, 238317], [464726, 238973], [433970, 250934], [424871, 259077], [418516, 251177], [412355, 251860], [408658, 257541], [411588, 264851], [415440, 274474], [414302, 283126], [401950, 288355], [393001, 285194], [385617, 291658], [377934, 289902], [371581, 298224], [372121, 300395], [384142, 304105], [400660, 325685], [403166, 330965], [408060, 341285], [416706, 381988], [422677, 419551], [430791, 470851], [436402, 491709], [446818, 504064], [443164, 509713], [434660, 511342], [433172, 516636], [446369, 628983.0], [452127, 633947.0], [458102, 631300.0], [488937, 590146.0], [490821, 606119.0], [486040, 621281.0], [478147, 632705.0], [433705, 665796.0], [429512, 691854.0], [416260, 707445.0], [414516, 719308.0], [430631, 710634.0], [437090, 695009.0], [434985, 681880.0], [442746, 682891.0], [443193, 690083.0], [450196, 698549.0], [452334, 716875.0], [444059, 733491.0], [434694, 739059.0], [445498, 754858.0], [446215, 762125.0], [450695, 764531.0]], [[560803, 285285], [560346, 290356], [562711, 293440], [561851, 299841], [557963, 295447], [555303, 285519], [557927, 281926], [560803, 285285]]], [[[429291, 738132.0], [425514, 735554.0], [419527, 737635.0], [414421, 743275.0], [419392, 746598.0], [426847, 743354.0], [429291, 738132.0]]], [[[411032, 750179.0], [411194, 743958.0], [399512, 745564.0], [397102, 750975.0], [401980, 754642.0], [406622, 750438.0], [411032, 750179.0]]]] },
      region: 'AQUITAINE-LIMOUSIN-POITOU-CHARENTES',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[535514, 221825], [534971, 229705], [539647, 243980], [555226, 264851], [563044, 275341], [566462, 290707], [571555, 297846], [560559, 330965], [559621, 333797], [543363, 334193], [539752, 341425], [547710, 358130], [547308, 384605], [566457, 394346], [575767, 383847], [578860, 395586], [581184, 395863], [612595, 399605], [635763, 409371], [643910, 405520], [652981, 408290], [659217, 418269], [667712, 421246], [672668, 436777], [669164, 447203], [670874, 454140], [688848, 456958], [680914, 481466], [690079, 487977], [698248, 500186], [714001, 511062], [716564, 522000], [728659, 533966], [727795, 553337], [731615, 557316], [742119, 560921], [752530, 558577], [769777, 542729], [782217, 549644], [800037, 550576], [803833, 534697], [811139, 522945], [808893, 508792], [811564, 501668], [812703, 497381], [816130, 493949], [821519, 500186], [824669, 501678], [828956, 502024], [830470, 500186], [832241, 498089], [840906, 498009], [847298, 500186], [861573, 531358], [875578, 543555], [879595, 533483], [887531, 533789], [896014, 520063], [900122, 500186], [902518, 500186], [917040, 536284], [926104, 534465], [944578, 549774], [949783, 544801], [957409, 525592], [975363, 534377], [1000370, 514041], [1003505, 500186], [1015468, 469628], [1022014, 461700], [1022022, 449670], [1043556, 441542], [1053755, 450259], [1063460, 444666], [1071572, 449896], [1087945, 440130], [1095110, 428512], [1095778, 412335], [1108676, 399305], [1097945, 386451], [1087862, 376722], [1084210, 350855], [1070263, 351121], [1064551, 341841], [1066215, 335612], [1059007, 330965], [1044202, 321426], [1041308, 315034], [1030883, 320000], [1026926, 329541], [1023157, 329887], [1004039, 322676], [964600, 290724], [945533, 286590], [931128, 277182], [926104, 269971], [913331, 251663], [909185, 220125], [909292, 213456], [909849, 178707], [912748, 174648], [920129, 164323], [923837, 159145], [905857, 163928], [890445, 163122], [871650, 155235], [863407, 146681], [855025, 145264], [822840, 157659], [811564, 154442], [795162, 148117], [789264, 155070], [783795, 161522], [763090, 167780], [762510, 169591], [765755, 174648], [769223, 180055], [741294, 192069], [730981, 184592], [720512, 201279], [709916, 201569], [700057, 201446], [690187, 211036], [682034, 213456], [673727, 215923], [665931, 218238], [645782, 220883], [645171, 213456], [643880, 197802], [623578, 199176], [610515, 201735], [603212, 196679], [590223, 204129], [581184, 201557], [567081, 197545], [546385, 213456], [535514, 221825]]], [[[560803, 285285], [557927, 281926], [555303, 285519], [557963, 295447], [561851, 299841], [562711, 293440], [560346, 290356], [560803, 285285]]]] },
      region: 'LANGUEDOC-ROUSSILLON-MIDI-PYRÉNÉES',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[800037, 550576], [807397, 553124], [805071, 563772], [811564, 568481], [816955, 590062.0], [830631, 606385.0], [834851, 617058.0], [848845, 616297.0], [849630, 629922.0], [845356, 649009.0], [851353, 661168.0], [847818, 671163.0], [837592, 685126.0], [849188, 693531.0], [859503, 708497.0], [854723, 729192.0], [855971, 736054.0], [845922, 757422.0], [830310, 765621.0], [824320, 780730.0], [833711, 795711.0], [859546, 801359.0], [859089, 817779.0], [872461, 831121.0], [880432, 830179.0], [898462, 841782.0], [907923, 841415.0], [926104, 824347.0], [950575, 827795.0], [956433, 819899.0], [965416, 824849.0], [970830, 834550.0], [974420, 834027.0], [987460, 801003.0], [1014505, 787811.0], [1013692, 766737.0], [1004490, 757427.0], [1005076, 747677.0], [1016390, 740584.0], [1023157, 743174.0], [1046823, 740028.0], [1058873, 748394.0], [1062692, 760896.0], [1073245, 756752.0], [1090852, 761445.0], [1097338, 743142.0], [1102525, 741460.0], [1120541, 795074.0], [1134754, 791600.0], [1146639, 795563.0], [1153337, 787186.0], [1161564, 784989.0], [1161733, 779403.0], [1181628, 755991.0], [1199032, 765610.0], [1209166, 755848.0], [1223410, 756229.0], [1245437, 780056.0], [1255705, 772746.0], [1252295, 764085.0], [1250739, 753904.0], [1236329, 746289.0], [1233421, 734296.0], [1254390, 736745.0], [1269663, 749072.0], [1270727, 753414.0], [1262752, 763223.0], [1273658, 776459.0], [1296415, 786131.0], [1329712, 781820.0], [1325307, 769195.0], [1333367, 757201.0], [1327455, 738063.0], [1337300, 732115.0], [1336795, 721843.0], [1344102, 720577.0], [1354628, 700678.0], [1346335, 691073.0], [1330442, 685701.0], [1327631, 677687.0], [1331893, 664818.0], [1348336, 655380.0], [1350576, 634711.0], [1361289, 628327.0], [1369138, 617027.0], [1363005, 605847.0], [1362334, 592268.0], [1347151, 587020.0], [1335162, 575447], [1324062, 578319], [1308449, 571586], [1294954, 570702], [1287441, 563530], [1267318, 574266], [1261857, 557476], [1273720, 552485], [1277844, 542844], [1276817, 532309], [1253096, 531938], [1240298, 527347], [1230820, 516455], [1219584, 515335], [1216212, 508230], [1214404, 500642], [1198882, 496080], [1195493, 485431], [1196254, 474570], [1181213, 473058], [1175825, 462139], [1180655, 453045], [1196608, 445707], [1201301, 438152], [1202248, 427867], [1199313, 422835], [1192641, 426827], [1182517, 416120], [1170656, 423064], [1167346, 430440], [1146034, 433306], [1143593, 443445], [1127266, 443977], [1131713, 456768], [1124018, 463898], [1118325, 461165], [1114574, 452931], [1115673, 446098], [1123296, 443353], [1120103, 439571], [1108123, 435138], [1102780, 446903], [1088099, 449376], [1087945, 440130], [1071572, 449896], [1063460, 444666], [1053755, 450259], [1043556, 441542], [1022022, 449670], [1022014, 461700], [1015468, 469628], [1003505, 500186], [1000370, 514041], [975363, 534377], [957409, 525592], [949783, 544801], [944578, 549774], [926104, 534465], [917040, 536284], [902518, 500186], [900122, 500186], [896014, 520063], [887531, 533789], [879595, 533483], [875578, 543555], [861573, 531358], [847298, 500186], [840906, 498009], [832241, 498089], [830470, 500186], [828956, 502024], [824669, 501678], [821519, 500186], [816130, 493949], [812703, 497381], [811564, 501668], [808893, 508792], [811139, 522945], [803833, 534697], [800037, 550576]]] },
      region: 'AUVERGNE-RHÔNE-ALPES',
    },
    {
      type: 'Feature',
      geometry: { type: 'MultiPolygon', coordinates: [[[[1041308, 315034], [1044202, 321426], [1059007, 330965], [1066215, 335612], [1064551, 341841], [1070263, 351121], [1084210, 350855], [1087862, 376722], [1097945, 386451], [1108676, 399305], [1095778, 412335], [1095110, 428512], [1087945, 440130], [1088099, 449376], [1102780, 446903], [1108123, 435138], [1120103, 439571], [1123296, 443353], [1115673, 446098], [1114574, 452931], [1118325, 461165], [1124018, 463898], [1131713, 456768], [1127266, 443977], [1143593, 443445], [1146034, 433306], [1167346, 430440], [1170656, 423064], [1182517, 416120], [1192641, 426827], [1199313, 422835], [1202248, 427867], [1201301, 438152], [1196608, 445707], [1180655, 453045], [1175825, 462139], [1181213, 473058], [1196254, 474570], [1195493, 485431], [1198882, 496080], [1214404, 500642], [1216212, 508230], [1219584, 515335], [1230820, 516455], [1240298, 527347], [1253096, 531938], [1276817, 532309], [1277844, 542844], [1273720, 552485], [1261857, 557476], [1267318, 574266], [1287441, 563530], [1294954, 570702], [1308449, 571586], [1313860, 558548], [1320566, 555118], [1323039, 539300], [1334747, 531103], [1349846, 528838], [1352786, 514181], [1356951, 509278], [1356783, 504972], [1348895, 504942], [1343982, 500186], [1342377, 489312], [1334331, 480380], [1341116, 466253], [1337100, 454276], [1352411, 434289], [1391126, 417083], [1423645, 425143], [1429140, 407719], [1406226, 377967], [1408612, 364831], [1398528, 359437], [1398318, 359840], [1395649, 357212], [1395587, 356771], [1395304, 356407], [1395907, 355877], [1367711, 344170], [1362073, 332450], [1358457, 330965], [1355433, 320768], [1348147, 326647], [1341987, 318113], [1332244, 308725], [1321554, 306237], [1308108, 290724], [1312484, 282835], [1307287, 272545], [1287876, 267808], [1285813, 267305], [1275978, 260517], [1262849, 260759], [1254036, 254018], [1236809, 259404], [1220795, 255403], [1206627, 267808], [1201786, 272051], [1193041, 270376], [1186227, 275882], [1167244, 277474], [1166117, 287409], [1166063, 290724], [1166007, 294073], [1162298, 298293], [1133872, 294769], [1120613, 310003], [1112119, 306645], [1112429, 298333], [1107869, 295794], [1082438, 299440], [1079468, 302925], [1080249, 308559], [1075071, 313193], [1041308, 315034]]], [[[1284843, 242073], [1280552, 241812], [1279415, 245578], [1280989, 248987], [1285590, 247969], [1284843, 242073]]], [[[1266290, 247209], [1265552, 240857], [1259710, 244389], [1262731, 250040], [1266290, 247209]]]] },
      region: 'PROVENCE-ALPES-CÔTE D’AZUR',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[1617043, 72585], [1617010, 51674], [1609970, 36815], [1610815, 29915], [1603810, 21876], [1597852, 2272], [1593668, 0], [1584376, 4327], [1583699, 9950], [1564272, 18134], [1549687, 30239], [1549153, 36982], [1557690, 42084], [1559027, 46788], [1539264, 55493], [1547372, 68065], [1549064, 79211], [1545222, 82563], [1530726, 79757], [1529987, 84448], [1528572, 88216], [1542631, 101350], [1538140, 109103], [1526758, 114813], [1525633, 128941], [1536427, 134614], [1528823, 145201], [1523634, 145534], [1524791, 151019], [1534835, 164323], [1536701, 170734], [1551770, 183752], [1574348, 191272], [1588018, 203366], [1606985, 199495], [1611089, 240139], [1620143, 243575], [1625945, 219282], [1623411, 194617], [1630860, 174978], [1631599, 164323], [1632752, 112408], [1619587, 85834], [1617043, 72585]]] },
      region: 'CORSE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[737544, 1197618.0], [732946, 1216011.0], [749486, 1220842.0], [760123, 1247106.0], [765666, 1238615.0], [775277, 1236629.0], [802996, 1242054.0], [811564, 1238523.0], [820919, 1234670.0], [828230, 1237589.0], [858771, 1221141.0], [863426, 1224690.0], [873312, 1218512.0], [882982, 1223024.0], [901085, 1220926.0], [910382, 1222914.0], [912355, 1227584.0], [920993, 1223373.0], [926104, 1208606.0], [934127, 1198865.0], [958364, 1182524.0], [949730, 1167569.0], [956200, 1161164.0], [954931, 1147538.0], [966204, 1143429.0], [958565, 1138021.0], [948472, 1119213.0], [950528, 1104782.0], [926104, 1101177.0], [910579, 1098886.0], [907189, 1092702.0], [907155, 1079663.0], [897264, 1066834.0], [883824, 1062793.0], [878786, 1065916.0], [869352, 1060236.0], [847017, 1061394.0], [850155, 1075914.0], [840647, 1084408.0], [837858, 1093131.0], [823116, 1091432.0], [816410, 1095630.0], [811564, 1091316.0], [809241, 1089248.0], [792376, 1087418.0], [789737, 1091335.0], [790343, 1104119.0], [784367, 1116077.0], [779270, 1113697.0], [771238, 1118804.0], [767711, 1133391.0], [749903, 1151148.0], [746409, 1179520.0], [737544, 1197618.0]]] },
      region: 'ILE-DE-FRANCE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[659190, 1072019.0], [661719, 1076051.0], [657295, 1093616.0], [673727, 1104888.0], [675136, 1107296.0], [677120, 1124215.0], [673727, 1129138.0], [665240, 1138364.0], [661101, 1151832.0], [673727, 1158605.0], [696179, 1170661.0], [718929, 1168665.0], [723515, 1180334.0], [732557, 1187068.0], [732961, 1194608.0], [737544, 1197618.0], [746409, 1179520.0], [749903, 1151148.0], [767711, 1133391.0], [771238, 1118804.0], [779270, 1113697.0], [784367, 1116077.0], [790343, 1104119.0], [789737, 1091335.0], [792376, 1087418.0], [809241, 1089248.0], [811564, 1091316.0], [816410, 1095630.0], [823116, 1091432.0], [837858, 1093131.0], [840647, 1084408.0], [850155, 1075914.0], [847017, 1061394.0], [869352, 1060236.0], [878786, 1065916.0], [883824, 1062793.0], [897264, 1066834.0], [907340, 1060706.0], [917714, 1036372.0], [906526, 1023293.0], [905796, 1004922.0], [888089, 996633.0], [897635, 982096.0], [897727, 974256.0], [901741, 968272.0], [891318, 965310.0], [890397, 960191.0], [895883, 947116.0], [890972, 932901.0], [901540, 917423.0], [907972, 885292.0], [911867, 879018.0], [911419, 851412.0], [907923, 841415.0], [898462, 841782.0], [880432, 830179.0], [872461, 831121.0], [859089, 817779.0], [859546, 801359.0], [833711, 795711.0], [824320, 780730.0], [811712, 781322.0], [811564, 781337.0], [767759, 785721.0], [763031, 777543.0], [739665, 779980.0], [727933, 768919.0], [720685, 776510.0], [701449, 774845.0], [701670, 783697.0], [695356, 795879.0], [672928, 811255.0], [671859, 826416.0], [666961, 833826.0], [650070, 857866.0], [645931, 870618.0], [636209, 875748.0], [634932, 868115.0], [606189, 865749.0], [603732, 881977.0], [592833, 885251.0], [591065, 891665.0], [581184, 898347.0], [576387, 901594.0], [579584, 920476.0], [581184, 923301.0], [586617, 932901.0], [594603, 957692.0], [595999, 974705.0], [612799, 969155.0], [612815, 978737.0], [638793, 988886.0], [637030, 994262.0], [651005, 1006701.0], [655969, 1021857.0], [663528, 1030608.0], [662951, 1043615.0], [659890, 1048254.0], [664211, 1056818.0], [670615, 1063581.0], [659190, 1072019.0]]] },
      region: 'CENTRE - VAL DE LOIRE',
    },
    {
      type: 'Feature',
      geometry: { type: 'Polygon', coordinates: [[[950528, 1104782.0], [960007, 1100122.0], [971879, 1084808.0], [970038, 1071347.0], [979307, 1064123.0], [986409, 1066055.0], [991839, 1059088.0], [1006193, 1029992.0], [1027385, 1027872.0], [1039118, 1033132.0], [1048336, 1027251.0], [1051987, 1032586.0], [1076159, 1035092.0], [1081368, 1044169.0], [1094068, 1042975.0], [1103830, 1039563.0], [1104720, 1034104.0], [1110675, 1030793.0], [1109751, 1024264.0], [1115604, 1025578.0], [1120889, 1018840.0], [1124608, 1008253.0], [1119383, 1002405.0], [1123804, 989704.0], [1137839, 982736.0], [1145345, 983920.0], [1155872, 970949.0], [1168635, 974067.0], [1173897, 985113.0], [1202621, 987869.0], [1204580, 1008247.0], [1218068, 1015991.0], [1225479, 1027313.0], [1230647, 1033768.0], [1237920, 1033280.0], [1252550, 1042724.0], [1259904, 1030631.0], [1280743, 1032467.0], [1292233, 1021655.0], [1305758, 1029043.0], [1329987, 1008562.0], [1332508, 1010202.0], [1352234, 993765.0], [1351517, 974358.0], [1358973, 969615.0], [1364142, 957326.0], [1352294, 957508.0], [1342862, 945908.0], [1340181, 935099.0], [1351430, 929474.0], [1333926, 901849.0], [1309264, 875959.0], [1289376, 866123.0], [1289520, 850630.0], [1286825, 836887.0], [1253780, 808857.0], [1253686, 802924.0], [1245437, 780056.0], [1223410, 756229.0], [1209166, 755848.0], [1199032, 765610.0], [1181628, 755991.0], [1161733, 779403.0], [1161564, 784989.0], [1153337, 787186.0], [1146639, 795563.0], [1134754, 791600.0], [1120541, 795074.0], [1102525, 741460.0], [1097338, 743142.0], [1090852, 761445.0], [1073245, 756752.0], [1062692, 760896.0], [1058873, 748394.0], [1046823, 740028.0], [1023157, 743174.0], [1016390, 740584.0], [1005076, 747677.0], [1004490, 757427.0], [1013692, 766737.0], [1014505, 787811.0], [987460, 801003.0], [974420, 834027.0], [970830, 834550.0], [965416, 824849.0], [956433, 819899.0], [950575, 827795.0], [926104, 824347.0], [907923, 841415.0], [911419, 851412.0], [911867, 879018.0], [907972, 885292.0], [901540, 917423.0], [890972, 932901.0], [895883, 947116.0], [890397, 960191.0], [891318, 965310.0], [901741, 968272.0], [897727, 974256.0], [897635, 982096.0], [888089, 996633.0], [905796, 1004922.0], [906526, 1023293.0], [917714, 1036372.0], [907340, 1060706.0], [897264, 1066834.0], [907155, 1079663.0], [907189, 1092702.0], [910579, 1098886.0], [926104, 1101177.0], [950528, 1104782.0]]] },
      region: 'BOURGOGNE-FRANCHE-COMTÉ',
    },
  ],
};


// data retrieved from the following report
const href = 'https://www.veilleinfotourisme.fr/files/2018-06/2018-05-Atlas-tourisme-France.pdf';
const data = [
  {
    region: 'AUVERGNE-RHÔNE-ALPES',
    tourists: 0,
  },
  {
    region: 'NORMANDIE',
    tourists: 0.5,
  },
  {
    region: 'NORD-PAS DE CALAIS-PICARDIE',
    tourists: 0.9,
  },
  {
    region: 'ALSACE-CHAMPAGNE-ARDENNE-LORRAINE',
    tourists: 1.1,
  },
  {
    region: 'PAYS DE LA LOIRE',
    tourists: 0.6,
  },
  {
    region: 'BRETAGNE',
    tourists: 0.3,
  },
  {
    region: 'AQUITAINE-LIMOUSIN-POITOU-CHARENTES',
    tourists: 0.9,
  },
  {
    region: 'LANGUEDOC-ROUSSILLON-MIDI-PYRÉNÉES',
    tourists: 1.5,
  },
  {
    region: 'PROVENCE-ALPES-CÔTE D’AZUR',
    tourists: 2,
  },
  {
    region: 'CORSE',
    tourists: 0.01,
  },
  {
    region: 'ILE-DE-FRANCE',
    tourists: 4.1,
  },
  {
    region: 'CENTRE - VAL DE LOIRE',
    tourists: 0.7,
  },
  {
    region: 'BOURGOGNE-FRANCHE-COMTÉ',
    tourists: 1.3,
  },
];

const viz = d3
  .select('.viz');


// introductory remarks on the visualization
const introduction = viz
  .append('header')
  .append('h1')
  .text(`Tourism toward ${data[0].region}`);

// svg element describing the map of France and the line going from region to region
const margin = 10;
const size = 500;

const svg = viz
  .append('svg')
  .attr('viewBox', `0 0 ${size + margin * 2} ${size + margin * 2}`);

const group = svg
  .append('g')
  .attr('transform', `translate(${margin} ${margin})`);


// function generating path elements from the geojson included earlier
const geo = d3
  .geoPath();

// group to position the path elements in the wrapping svg
const centerGroup = group
  .attr('transform', `translate(${0} ${size})`);

// group to scale the path elements
const pathGroup = centerGroup
  .append('g')
  .attr('transform', `scale(0.0003 -0.0003)`);

// in the positioned and scaled group add the path elements
pathGroup
  .selectAll('path')
  .data(geoJson.features)
  .enter()
  .append('path')
  .attr('d', geo)
  .attr('fill', (d, i) => `hsla(240, 60%, 50%, 0.2)`);


// central message of the visualization, summarising the map
const message = viz
  .append('main')
  .append('p')
  .html(`<strong>Message</strong>: ${data.reduce((acc, curr) => acc + curr.tourists, 0)} million tourist visited the ${data[0].region} region in 2016.`);

// footer referencing the source material
viz
  .append('footer')
  .append('a')
  .attr('href', href)
  .text('Source.');
